{"ast":null,"code":"// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { __assign, __awaiter, __generator } from \"tslib\";\nimport { Amplify, ConsoleLogger as Logger } from '@aws-amplify/core';\nimport InAppMessagingClass from './InAppMessaging';\nimport PushNotificationClass from './PushNotification';\nvar logger = new Logger('Notifications');\n\nvar NotificationsClass =\n/** @class */\nfunction () {\n  function NotificationsClass() {\n    var _this = this;\n\n    this.config = {};\n    /**\n     * Configure Notifications\n     * @param {Object} config - Notifications configuration object\n     */\n\n    this.configure = function (_a) {\n      var config = (_a === void 0 ? {} : _a).Notifications;\n      _this.config = __assign(__assign({}, _this.config), config);\n      logger.debug('configure Notifications', config); // Configure sub-categories\n\n      _this.inAppMessaging.configure(_this.config.InAppMessaging);\n\n      if (_this.config.Push) {\n        try {\n          // only instantiate once\n          if (!_this.pushNotification) {\n            _this.pushNotification = new PushNotificationClass();\n          }\n\n          _this.pushNotification.configure(_this.config.Push);\n        } catch (err) {\n          logger.error(err);\n        }\n      }\n\n      return _this.config;\n    };\n\n    this.identifyUser = function (userId, userInfo) {\n      var identifyFunctions = [];\n\n      if (_this.inAppMessaging) {\n        identifyFunctions.push(_this.inAppMessaging.identifyUser);\n      }\n\n      if (_this.pushNotification) {\n        identifyFunctions.push(_this.pushNotification.identifyUser);\n      }\n\n      return Promise.all(identifyFunctions.map(function (identifyFunction) {\n        return __awaiter(_this, void 0, void 0, function () {\n          var err_1;\n          return __generator(this, function (_a) {\n            switch (_a.label) {\n              case 0:\n                _a.trys.push([0, 2,, 3]);\n\n                return [4\n                /*yield*/\n                , identifyFunction(userId, userInfo)];\n\n              case 1:\n                _a.sent();\n\n                return [3\n                /*break*/\n                , 3];\n\n              case 2:\n                err_1 = _a.sent();\n                logger.error('Failed to identify user', err_1);\n                throw err_1;\n\n              case 3:\n                return [2\n                /*return*/\n                ];\n            }\n          });\n        });\n      }));\n    };\n\n    this.inAppMessaging = new InAppMessagingClass();\n  }\n  /**\n   * Get the name of the module category\n   * @returns {string} name of the module category\n   */\n\n\n  NotificationsClass.prototype.getModuleName = function () {\n    return 'Notifications';\n  };\n\n  Object.defineProperty(NotificationsClass.prototype, \"InAppMessaging\", {\n    get: function () {\n      return this.inAppMessaging;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(NotificationsClass.prototype, \"Push\", {\n    get: function () {\n      var _a;\n\n      return (_a = this.pushNotification) !== null && _a !== void 0 ? _a : {};\n    },\n    enumerable: true,\n    configurable: true\n  });\n  return NotificationsClass;\n}();\n\nvar Notifications = new NotificationsClass();\nexport default Notifications;\nAmplify.register(Notifications);","map":{"version":3,"names":["__assign","__awaiter","__generator","Amplify","ConsoleLogger","Logger","InAppMessagingClass","PushNotificationClass","logger","NotificationsClass","_this","config","configure","_a","Notifications","debug","inAppMessaging","InAppMessaging","Push","pushNotification","err","error","identifyUser","userId","userInfo","identifyFunctions","push","Promise","all","map","identifyFunction","err_1","label","trys","sent","prototype","getModuleName","Object","defineProperty","get","enumerable","configurable","register"],"sources":["D:/aws-rekognition-liveness-detection-main/node_modules/@aws-amplify/notifications/lib-esm/Notifications.js"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { __assign, __awaiter, __generator } from \"tslib\";\nimport { Amplify, ConsoleLogger as Logger } from '@aws-amplify/core';\nimport InAppMessagingClass from './InAppMessaging';\nimport PushNotificationClass from './PushNotification';\nvar logger = new Logger('Notifications');\nvar NotificationsClass = /** @class */ (function () {\n    function NotificationsClass() {\n        var _this = this;\n        this.config = {};\n        /**\n         * Configure Notifications\n         * @param {Object} config - Notifications configuration object\n         */\n        this.configure = function (_a) {\n            var config = (_a === void 0 ? {} : _a).Notifications;\n            _this.config = __assign(__assign({}, _this.config), config);\n            logger.debug('configure Notifications', config);\n            // Configure sub-categories\n            _this.inAppMessaging.configure(_this.config.InAppMessaging);\n            if (_this.config.Push) {\n                try {\n                    // only instantiate once\n                    if (!_this.pushNotification) {\n                        _this.pushNotification = new PushNotificationClass();\n                    }\n                    _this.pushNotification.configure(_this.config.Push);\n                }\n                catch (err) {\n                    logger.error(err);\n                }\n            }\n            return _this.config;\n        };\n        this.identifyUser = function (userId, userInfo) {\n            var identifyFunctions = [];\n            if (_this.inAppMessaging) {\n                identifyFunctions.push(_this.inAppMessaging.identifyUser);\n            }\n            if (_this.pushNotification) {\n                identifyFunctions.push(_this.pushNotification.identifyUser);\n            }\n            return Promise.all(identifyFunctions.map(function (identifyFunction) { return __awaiter(_this, void 0, void 0, function () {\n                var err_1;\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            _a.trys.push([0, 2, , 3]);\n                            return [4 /*yield*/, identifyFunction(userId, userInfo)];\n                        case 1:\n                            _a.sent();\n                            return [3 /*break*/, 3];\n                        case 2:\n                            err_1 = _a.sent();\n                            logger.error('Failed to identify user', err_1);\n                            throw err_1;\n                        case 3: return [2 /*return*/];\n                    }\n                });\n            }); }));\n        };\n        this.inAppMessaging = new InAppMessagingClass();\n    }\n    /**\n     * Get the name of the module category\n     * @returns {string} name of the module category\n     */\n    NotificationsClass.prototype.getModuleName = function () {\n        return 'Notifications';\n    };\n    Object.defineProperty(NotificationsClass.prototype, \"InAppMessaging\", {\n        get: function () {\n            return this.inAppMessaging;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(NotificationsClass.prototype, \"Push\", {\n        get: function () {\n            var _a;\n            return (_a = this.pushNotification) !== null && _a !== void 0 ? _a : {};\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return NotificationsClass;\n}());\nvar Notifications = new NotificationsClass();\nexport default Notifications;\nAmplify.register(Notifications);\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}