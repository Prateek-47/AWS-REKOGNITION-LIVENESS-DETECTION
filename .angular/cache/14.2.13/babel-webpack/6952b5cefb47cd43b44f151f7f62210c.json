{"ast":null,"code":"import { __awaiter, __extends, __generator } from \"tslib\"; // Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { MqttOverWSProvider } from './MqttOverWSProvider';\nimport { Signer, Credentials } from '@aws-amplify/core';\nvar SERVICE_NAME = 'iotdevicegateway';\n\nvar AWSIoTProvider =\n/** @class */\nfunction (_super) {\n  __extends(AWSIoTProvider, _super);\n\n  function AWSIoTProvider(options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    return _super.call(this, options) || this;\n  }\n\n  Object.defineProperty(AWSIoTProvider.prototype, \"region\", {\n    get: function () {\n      return this.options['aws_pubsub_region'];\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  AWSIoTProvider.prototype.getProviderName = function () {\n    return 'AWSIoTProvider';\n  };\n\n  Object.defineProperty(AWSIoTProvider.prototype, \"endpoint\", {\n    get: function () {\n      var _this = this;\n\n      return function () {\n        return __awaiter(_this, void 0, void 0, function () {\n          var endpoint, serviceInfo, _a, access_key, secret_key, session_token, result;\n\n          return __generator(this, function (_b) {\n            switch (_b.label) {\n              case 0:\n                endpoint = this.options.aws_pubsub_endpoint;\n                serviceInfo = {\n                  service: SERVICE_NAME,\n                  region: this.region\n                };\n                return [4\n                /*yield*/\n                , Credentials.get()];\n\n              case 1:\n                _a = _b.sent(), access_key = _a.accessKeyId, secret_key = _a.secretAccessKey, session_token = _a.sessionToken;\n                result = Signer.signUrl(endpoint, {\n                  access_key: access_key,\n                  secret_key: secret_key,\n                  session_token: session_token\n                }, serviceInfo);\n                return [2\n                /*return*/\n                , result];\n            }\n          });\n        });\n      }();\n    },\n    enumerable: true,\n    configurable: true\n  });\n  return AWSIoTProvider;\n}(MqttOverWSProvider);\n\nexport { AWSIoTProvider };","map":{"version":3,"names":["__awaiter","__extends","__generator","MqttOverWSProvider","Signer","Credentials","SERVICE_NAME","AWSIoTProvider","_super","options","call","Object","defineProperty","prototype","get","enumerable","configurable","getProviderName","_this","endpoint","serviceInfo","_a","access_key","secret_key","session_token","result","_b","label","aws_pubsub_endpoint","service","region","sent","accessKeyId","secretAccessKey","sessionToken","signUrl"],"sources":["D:/aws-rekognition-liveness-detection-main/node_modules/@aws-amplify/pubsub/lib-esm/Providers/AWSIotProvider.js"],"sourcesContent":["import { __awaiter, __extends, __generator } from \"tslib\";\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { MqttOverWSProvider } from './MqttOverWSProvider';\nimport { Signer, Credentials } from '@aws-amplify/core';\nvar SERVICE_NAME = 'iotdevicegateway';\nvar AWSIoTProvider = /** @class */ (function (_super) {\n    __extends(AWSIoTProvider, _super);\n    function AWSIoTProvider(options) {\n        if (options === void 0) { options = {}; }\n        return _super.call(this, options) || this;\n    }\n    Object.defineProperty(AWSIoTProvider.prototype, \"region\", {\n        get: function () {\n            return this.options['aws_pubsub_region'];\n        },\n        enumerable: true,\n        configurable: true\n    });\n    AWSIoTProvider.prototype.getProviderName = function () {\n        return 'AWSIoTProvider';\n    };\n    Object.defineProperty(AWSIoTProvider.prototype, \"endpoint\", {\n        get: function () {\n            var _this = this;\n            return (function () { return __awaiter(_this, void 0, void 0, function () {\n                var endpoint, serviceInfo, _a, access_key, secret_key, session_token, result;\n                return __generator(this, function (_b) {\n                    switch (_b.label) {\n                        case 0:\n                            endpoint = this.options.aws_pubsub_endpoint;\n                            serviceInfo = {\n                                service: SERVICE_NAME,\n                                region: this.region,\n                            };\n                            return [4 /*yield*/, Credentials.get()];\n                        case 1:\n                            _a = _b.sent(), access_key = _a.accessKeyId, secret_key = _a.secretAccessKey, session_token = _a.sessionToken;\n                            result = Signer.signUrl(endpoint, { access_key: access_key, secret_key: secret_key, session_token: session_token }, serviceInfo);\n                            return [2 /*return*/, result];\n                    }\n                });\n            }); })();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return AWSIoTProvider;\n}(MqttOverWSProvider));\nexport { AWSIoTProvider };\n"],"mappings":"AAAA,SAASA,SAAT,EAAoBC,SAApB,EAA+BC,WAA/B,QAAkD,OAAlD,C,CACA;AACA;;AACA,SAASC,kBAAT,QAAmC,sBAAnC;AACA,SAASC,MAAT,EAAiBC,WAAjB,QAAoC,mBAApC;AACA,IAAIC,YAAY,GAAG,kBAAnB;;AACA,IAAIC,cAAc;AAAG;AAAe,UAAUC,MAAV,EAAkB;EAClDP,SAAS,CAACM,cAAD,EAAiBC,MAAjB,CAAT;;EACA,SAASD,cAAT,CAAwBE,OAAxB,EAAiC;IAC7B,IAAIA,OAAO,KAAK,KAAK,CAArB,EAAwB;MAAEA,OAAO,GAAG,EAAV;IAAe;;IACzC,OAAOD,MAAM,CAACE,IAAP,CAAY,IAAZ,EAAkBD,OAAlB,KAA8B,IAArC;EACH;;EACDE,MAAM,CAACC,cAAP,CAAsBL,cAAc,CAACM,SAArC,EAAgD,QAAhD,EAA0D;IACtDC,GAAG,EAAE,YAAY;MACb,OAAO,KAAKL,OAAL,CAAa,mBAAb,CAAP;IACH,CAHqD;IAItDM,UAAU,EAAE,IAJ0C;IAKtDC,YAAY,EAAE;EALwC,CAA1D;;EAOAT,cAAc,CAACM,SAAf,CAAyBI,eAAzB,GAA2C,YAAY;IACnD,OAAO,gBAAP;EACH,CAFD;;EAGAN,MAAM,CAACC,cAAP,CAAsBL,cAAc,CAACM,SAArC,EAAgD,UAAhD,EAA4D;IACxDC,GAAG,EAAE,YAAY;MACb,IAAII,KAAK,GAAG,IAAZ;;MACA,OAAQ,YAAY;QAAE,OAAOlB,SAAS,CAACkB,KAAD,EAAQ,KAAK,CAAb,EAAgB,KAAK,CAArB,EAAwB,YAAY;UACtE,IAAIC,QAAJ,EAAcC,WAAd,EAA2BC,EAA3B,EAA+BC,UAA/B,EAA2CC,UAA3C,EAAuDC,aAAvD,EAAsEC,MAAtE;;UACA,OAAOvB,WAAW,CAAC,IAAD,EAAO,UAAUwB,EAAV,EAAc;YACnC,QAAQA,EAAE,CAACC,KAAX;cACI,KAAK,CAAL;gBACIR,QAAQ,GAAG,KAAKV,OAAL,CAAamB,mBAAxB;gBACAR,WAAW,GAAG;kBACVS,OAAO,EAAEvB,YADC;kBAEVwB,MAAM,EAAE,KAAKA;gBAFH,CAAd;gBAIA,OAAO,CAAC;gBAAE;gBAAH,EAAczB,WAAW,CAACS,GAAZ,EAAd,CAAP;;cACJ,KAAK,CAAL;gBACIO,EAAE,GAAGK,EAAE,CAACK,IAAH,EAAL,EAAgBT,UAAU,GAAGD,EAAE,CAACW,WAAhC,EAA6CT,UAAU,GAAGF,EAAE,CAACY,eAA7D,EAA8ET,aAAa,GAAGH,EAAE,CAACa,YAAjG;gBACAT,MAAM,GAAGrB,MAAM,CAAC+B,OAAP,CAAehB,QAAf,EAAyB;kBAAEG,UAAU,EAAEA,UAAd;kBAA0BC,UAAU,EAAEA,UAAtC;kBAAkDC,aAAa,EAAEA;gBAAjE,CAAzB,EAA2GJ,WAA3G,CAAT;gBACA,OAAO,CAAC;gBAAE;gBAAH,EAAeK,MAAf,CAAP;YAXR;UAaH,CAdiB,CAAlB;QAeH,CAjBqC,CAAhB;MAiBjB,CAjBE,EAAP;IAkBH,CArBuD;IAsBxDV,UAAU,EAAE,IAtB4C;IAuBxDC,YAAY,EAAE;EAvB0C,CAA5D;EAyBA,OAAOT,cAAP;AACH,CA1CmC,CA0ClCJ,kBA1CkC,CAApC;;AA2CA,SAASI,cAAT"},"metadata":{},"sourceType":"module"}