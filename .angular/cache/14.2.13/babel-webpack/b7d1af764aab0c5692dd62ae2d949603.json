{"ast":null,"code":"// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __read = this && this.__read || function (o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n      r,\n      ar = [],\n      e;\n\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n\n  return ar;\n};\n\nimport { Amplify, ConsoleLogger as Logger, parseAWSExports } from '@aws-amplify/core';\nimport { AWSS3Provider } from './providers';\nimport { isCancelError } from './AwsClients/S3/utils';\nimport { AWSS3UploadTask } from './providers/AWSS3UploadTask';\nvar logger = new Logger('StorageClass');\nvar loggerStorageInstance = new Logger('Storage'); // Logging relating to Storage instance management\n\nvar DEFAULT_PROVIDER = 'AWSS3';\n/**\n * Provide storage methods to use AWS S3\n */\n\nvar Storage =\n/** @class */\nfunction () {\n  /**\n   * Initialize Storage\n   * @param {Object} config - Configuration object for storage\n   */\n  function Storage() {\n    this._config = {};\n    this._pluggables = [];\n    this._abortControllerMap = new WeakMap();\n    logger.debug('Storage Options', this._config);\n    this.get = this.get.bind(this);\n    this.put = this.put.bind(this);\n    this.remove = this.remove.bind(this);\n    this.list = this.list.bind(this);\n  }\n\n  Storage.prototype.getModuleName = function () {\n    return 'Storage';\n  };\n  /**\n   * add plugin into Storage category\n   * @param {Object} pluggable - an instance of the plugin\n   */\n\n\n  Storage.prototype.addPluggable = function (pluggable) {\n    if (pluggable && pluggable.getCategory() === 'Storage') {\n      this._pluggables.push(pluggable);\n\n      var config = {};\n      config = pluggable.configure(this._config[pluggable.getProviderName()]);\n      return config;\n    }\n  };\n  /**\n   * Get the plugin object\n   * @param providerName - the name of the plugin\n   */\n\n\n  Storage.prototype.getPluggable = function (providerName) {\n    var pluggable = this._pluggables.find(function (pluggable) {\n      return pluggable.getProviderName() === providerName;\n    });\n\n    if (pluggable === undefined) {\n      logger.debug('No plugin found with providerName', providerName);\n      return null;\n    } else return pluggable;\n  };\n  /**\n   * Remove the plugin object\n   * @param providerName - the name of the plugin\n   */\n\n\n  Storage.prototype.removePluggable = function (providerName) {\n    this._pluggables = this._pluggables.filter(function (pluggable) {\n      return pluggable.getProviderName() !== providerName;\n    });\n    return;\n  };\n  /**\n   * Configure Storage\n   * @param {Object} config - Configuration object for storage\n   * @return {Object} - Current configuration\n   */\n\n\n  Storage.prototype.configure = function (config) {\n    var _this = this;\n\n    var _a;\n\n    logger.debug('configure Storage');\n    if (!config) return this._config;\n    var amplifyConfig = parseAWSExports(config);\n    var storageConfig = (_a = amplifyConfig.Storage) !== null && _a !== void 0 ? _a : {};\n    var defaultProviderConfigKeys = ['bucket', 'region', 'level', 'track', 'customPrefix', 'ContentMD5', 'serverSideEncryption', 'SSECustomerAlgorithm', 'SSECustomerKey', // TODO(AllanZhengYP): remove in V6.\n    'SSECustomerKeyMD5', 'SSEKMSKeyId'];\n\n    var hasDefaultProviderConfigKeys = function (config) {\n      return Object.keys(config).find(function (key) {\n        return defaultProviderConfigKeys.includes(key);\n      });\n    };\n\n    if (hasDefaultProviderConfigKeys(storageConfig) && !storageConfig[DEFAULT_PROVIDER]) {\n      storageConfig[DEFAULT_PROVIDER] = {};\n    }\n\n    Object.entries(storageConfig).forEach(function (_a) {\n      var _b = __read(_a, 2),\n          key = _b[0],\n          value = _b[1];\n\n      if (key && defaultProviderConfigKeys.includes(key) && value !== undefined) {\n        storageConfig[DEFAULT_PROVIDER][key] = value;\n        delete storageConfig[key];\n      }\n    }); // only update new values for each provider\n\n    Object.keys(storageConfig).forEach(function (providerName) {\n      if (typeof storageConfig[providerName] !== 'string') {\n        _this._config[providerName] = __assign(__assign({}, _this._config[providerName]), storageConfig[providerName]);\n      }\n    });\n\n    this._pluggables.forEach(function (pluggable) {\n      pluggable.configure(_this._config[pluggable.getProviderName()]);\n    });\n\n    if (this._pluggables.length === 0) {\n      this.addPluggable(new AWSS3Provider());\n    }\n\n    return this._config;\n  };\n\n  Storage.prototype.getAbortController = function () {\n    return new AbortController();\n  };\n\n  Storage.prototype.updateRequestToBeCancellable = function (request, abortController) {\n    this._abortControllerMap.set(request, abortController);\n  };\n\n  Storage.prototype.isUploadTask = function (x) {\n    return typeof x !== 'undefined' && typeof x['pause'] === 'function' && typeof x['resume'] === 'function';\n  };\n\n  Storage.prototype.cancel = function (request, message) {\n    if (request instanceof AWSS3UploadTask) {\n      return request._cancel();\n    }\n\n    var abortController = this._abortControllerMap.get(request);\n\n    if (abortController) {\n      // TODO: [v6] clean up the aborted promise in the weak map.\n      // Not doing it yet to avoid breaking changes when users may abort a request twice.\n      abortController.abort(message);\n    } else {\n      logger.debug('The request does not map to any cancel token');\n    }\n  };\n\n  Storage.prototype.copy = function (src, dest, config) {\n    var provider = (config === null || config === void 0 ? void 0 : config.provider) || DEFAULT_PROVIDER;\n\n    var plugin = this._pluggables.find(function (pluggable) {\n      return pluggable.getProviderName() === provider;\n    });\n\n    if (plugin === undefined) {\n      logger.debug('No plugin found with providerName', provider);\n      return Promise.reject('No plugin found in Storage for the provider');\n    }\n\n    var abortController = this.getAbortController();\n\n    if (typeof plugin.copy !== 'function') {\n      return Promise.reject(\".copy is not implemented on provider \".concat(plugin.getProviderName()));\n    }\n\n    var responsePromise = plugin.copy(src, dest, __assign(__assign({}, config), {\n      abortSignal: abortController.signal\n    }));\n    this.updateRequestToBeCancellable(responsePromise, abortController);\n    return responsePromise;\n  };\n\n  Storage.prototype.get = function (key, config) {\n    var provider = (config === null || config === void 0 ? void 0 : config.provider) || DEFAULT_PROVIDER;\n\n    var plugin = this._pluggables.find(function (pluggable) {\n      return pluggable.getProviderName() === provider;\n    });\n\n    if (plugin === undefined) {\n      logger.debug('No plugin found with providerName', provider);\n      return Promise.reject('No plugin found in Storage for the provider');\n    }\n\n    var abortController = this.getAbortController();\n    var responsePromise = plugin.get(key, __assign(__assign({}, config), {\n      abortSignal: abortController.signal\n    }));\n    this.updateRequestToBeCancellable(responsePromise, abortController);\n    return responsePromise;\n  };\n\n  Storage.prototype.isCancelError = function (error) {\n    return isCancelError(error);\n  };\n\n  Storage.prototype.getProperties = function (key, config) {\n    var provider = (config === null || config === void 0 ? void 0 : config.provider) || DEFAULT_PROVIDER;\n\n    var plugin = this._pluggables.find(function (pluggable) {\n      return pluggable.getProviderName() === provider;\n    });\n\n    if (plugin === undefined) {\n      logger.debug('No plugin found with providerName', provider);\n      throw new Error('No plugin found with providerName');\n    }\n\n    var abortController = this.getAbortController();\n\n    if (typeof plugin.getProperties !== 'function') {\n      return Promise.reject(\".getProperties is not implemented on provider \".concat(plugin.getProviderName()));\n    }\n\n    var responsePromise = plugin === null || plugin === void 0 ? void 0 : plugin.getProperties(key, __assign({}, config));\n    this.updateRequestToBeCancellable(responsePromise, abortController);\n    return responsePromise;\n  };\n\n  Storage.prototype.put = function (key, object, config) {\n    var provider = (config === null || config === void 0 ? void 0 : config.provider) || DEFAULT_PROVIDER;\n\n    var plugin = this._pluggables.find(function (pluggable) {\n      return pluggable.getProviderName() === provider;\n    });\n\n    if (plugin === undefined) {\n      logger.debug('No plugin found with providerName', provider);\n      return Promise.reject('No plugin found in Storage for the provider');\n    }\n\n    var abortController = this.getAbortController();\n    var response = plugin.put(key, object, __assign(__assign({}, config), {\n      abortSignal: abortController.signal\n    }));\n\n    if (!this.isUploadTask(response)) {\n      this.updateRequestToBeCancellable(response, abortController);\n    }\n\n    return response;\n  };\n\n  Storage.prototype.remove = function (key, config) {\n    var provider = (config === null || config === void 0 ? void 0 : config.provider) || DEFAULT_PROVIDER;\n\n    var plugin = this._pluggables.find(function (pluggable) {\n      return pluggable.getProviderName() === provider;\n    });\n\n    if (plugin === undefined) {\n      logger.debug('No plugin found with providerName', provider);\n      return Promise.reject('No plugin found in Storage for the provider');\n    }\n\n    return plugin.remove(key, config);\n  };\n\n  Storage.prototype.list = function (path, config) {\n    var provider = (config === null || config === void 0 ? void 0 : config.provider) || DEFAULT_PROVIDER;\n\n    var plugin = this._pluggables.find(function (pluggable) {\n      return pluggable.getProviderName() === provider;\n    });\n\n    if (plugin === undefined) {\n      logger.debug('No plugin found with providerName', provider);\n      return Promise.reject('No plugin found in Storage for the provider');\n    }\n\n    return plugin.list(path, config);\n  };\n\n  return Storage;\n}();\n\nexport { Storage };\n/**\n * Configure & register Storage singleton instance.\n */\n\nvar _instance = null;\n\nvar getInstance = function () {\n  if (_instance) {\n    return _instance;\n  }\n\n  loggerStorageInstance.debug('Create Storage Instance, debug');\n  _instance = new Storage();\n  _instance.vault = new Storage();\n  var old_configure = _instance.configure;\n\n  _instance.configure = function (options) {\n    loggerStorageInstance.debug('storage configure called');\n\n    var vaultConfig = __assign({}, old_configure.call(_instance, options)); // set level private for each provider for the vault\n\n\n    Object.keys(vaultConfig).forEach(function (providerName) {\n      if (typeof vaultConfig[providerName] !== 'string') {\n        vaultConfig[providerName] = __assign(__assign({}, vaultConfig[providerName]), {\n          level: 'private'\n        });\n      }\n    });\n    loggerStorageInstance.debug('storage vault configure called');\n\n    _instance.vault.configure(vaultConfig);\n  };\n\n  return _instance;\n};\n\nexport var StorageInstance = getInstance();\nAmplify.register(StorageInstance);","map":{"version":3,"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","__read","o","m","Symbol","iterator","r","ar","e","next","done","push","value","error","Amplify","ConsoleLogger","Logger","parseAWSExports","AWSS3Provider","isCancelError","AWSS3UploadTask","logger","loggerStorageInstance","DEFAULT_PROVIDER","Storage","_config","_pluggables","_abortControllerMap","WeakMap","debug","get","bind","put","remove","list","getModuleName","addPluggable","pluggable","getCategory","config","configure","getProviderName","getPluggable","providerName","find","undefined","removePluggable","filter","_this","_a","amplifyConfig","storageConfig","defaultProviderConfigKeys","hasDefaultProviderConfigKeys","keys","key","includes","entries","forEach","_b","getAbortController","AbortController","updateRequestToBeCancellable","request","abortController","set","isUploadTask","x","cancel","message","_cancel","abort","copy","src","dest","provider","plugin","Promise","reject","concat","responsePromise","abortSignal","signal","getProperties","Error","object","response","path","_instance","getInstance","vault","old_configure","options","vaultConfig","level","StorageInstance","register"],"sources":["D:/aws-rekognition-liveness-detection-main/node_modules/@aws-amplify/storage/lib-esm/Storage.js"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport { Amplify, ConsoleLogger as Logger, parseAWSExports, } from '@aws-amplify/core';\nimport { AWSS3Provider } from './providers';\nimport { isCancelError } from './AwsClients/S3/utils';\nimport { AWSS3UploadTask } from './providers/AWSS3UploadTask';\nvar logger = new Logger('StorageClass');\nvar loggerStorageInstance = new Logger('Storage'); // Logging relating to Storage instance management\nvar DEFAULT_PROVIDER = 'AWSS3';\n/**\n * Provide storage methods to use AWS S3\n */\nvar Storage = /** @class */ (function () {\n    /**\n     * Initialize Storage\n     * @param {Object} config - Configuration object for storage\n     */\n    function Storage() {\n        this._config = {};\n        this._pluggables = [];\n        this._abortControllerMap = new WeakMap();\n        logger.debug('Storage Options', this._config);\n        this.get = this.get.bind(this);\n        this.put = this.put.bind(this);\n        this.remove = this.remove.bind(this);\n        this.list = this.list.bind(this);\n    }\n    Storage.prototype.getModuleName = function () {\n        return 'Storage';\n    };\n    /**\n     * add plugin into Storage category\n     * @param {Object} pluggable - an instance of the plugin\n     */\n    Storage.prototype.addPluggable = function (pluggable) {\n        if (pluggable && pluggable.getCategory() === 'Storage') {\n            this._pluggables.push(pluggable);\n            var config = {};\n            config = pluggable.configure(this._config[pluggable.getProviderName()]);\n            return config;\n        }\n    };\n    /**\n     * Get the plugin object\n     * @param providerName - the name of the plugin\n     */\n    Storage.prototype.getPluggable = function (providerName) {\n        var pluggable = this._pluggables.find(function (pluggable) { return pluggable.getProviderName() === providerName; });\n        if (pluggable === undefined) {\n            logger.debug('No plugin found with providerName', providerName);\n            return null;\n        }\n        else\n            return pluggable;\n    };\n    /**\n     * Remove the plugin object\n     * @param providerName - the name of the plugin\n     */\n    Storage.prototype.removePluggable = function (providerName) {\n        this._pluggables = this._pluggables.filter(function (pluggable) { return pluggable.getProviderName() !== providerName; });\n        return;\n    };\n    /**\n     * Configure Storage\n     * @param {Object} config - Configuration object for storage\n     * @return {Object} - Current configuration\n     */\n    Storage.prototype.configure = function (config) {\n        var _this = this;\n        var _a;\n        logger.debug('configure Storage');\n        if (!config)\n            return this._config;\n        var amplifyConfig = parseAWSExports(config);\n        var storageConfig = (_a = amplifyConfig.Storage) !== null && _a !== void 0 ? _a : {};\n        var defaultProviderConfigKeys = [\n            'bucket',\n            'region',\n            'level',\n            'track',\n            'customPrefix',\n            'ContentMD5',\n            'serverSideEncryption',\n            'SSECustomerAlgorithm',\n            'SSECustomerKey',\n            // TODO(AllanZhengYP): remove in V6.\n            'SSECustomerKeyMD5',\n            'SSEKMSKeyId',\n        ];\n        var hasDefaultProviderConfigKeys = function (config) {\n            return Object.keys(config).find(function (key) { return defaultProviderConfigKeys.includes(key); });\n        };\n        if (hasDefaultProviderConfigKeys(storageConfig) &&\n            !storageConfig[DEFAULT_PROVIDER]) {\n            storageConfig[DEFAULT_PROVIDER] = {};\n        }\n        Object.entries(storageConfig).forEach(function (_a) {\n            var _b = __read(_a, 2), key = _b[0], value = _b[1];\n            if (key &&\n                defaultProviderConfigKeys.includes(key) &&\n                value !== undefined) {\n                storageConfig[DEFAULT_PROVIDER][key] = value;\n                delete storageConfig[key];\n            }\n        });\n        // only update new values for each provider\n        Object.keys(storageConfig).forEach(function (providerName) {\n            if (typeof storageConfig[providerName] !== 'string') {\n                _this._config[providerName] = __assign(__assign({}, _this._config[providerName]), storageConfig[providerName]);\n            }\n        });\n        this._pluggables.forEach(function (pluggable) {\n            pluggable.configure(_this._config[pluggable.getProviderName()]);\n        });\n        if (this._pluggables.length === 0) {\n            this.addPluggable(new AWSS3Provider());\n        }\n        return this._config;\n    };\n    Storage.prototype.getAbortController = function () {\n        return new AbortController();\n    };\n    Storage.prototype.updateRequestToBeCancellable = function (request, abortController) {\n        this._abortControllerMap.set(request, abortController);\n    };\n    Storage.prototype.isUploadTask = function (x) {\n        return (typeof x !== 'undefined' &&\n            typeof x['pause'] === 'function' &&\n            typeof x['resume'] === 'function');\n    };\n    Storage.prototype.cancel = function (request, message) {\n        if (request instanceof AWSS3UploadTask) {\n            return request._cancel();\n        }\n        var abortController = this._abortControllerMap.get(request);\n        if (abortController) {\n            // TODO: [v6] clean up the aborted promise in the weak map.\n            // Not doing it yet to avoid breaking changes when users may abort a request twice.\n            abortController.abort(message);\n        }\n        else {\n            logger.debug('The request does not map to any cancel token');\n        }\n    };\n    Storage.prototype.copy = function (src, dest, config) {\n        var provider = (config === null || config === void 0 ? void 0 : config.provider) || DEFAULT_PROVIDER;\n        var plugin = this._pluggables.find(function (pluggable) { return pluggable.getProviderName() === provider; });\n        if (plugin === undefined) {\n            logger.debug('No plugin found with providerName', provider);\n            return Promise.reject('No plugin found in Storage for the provider');\n        }\n        var abortController = this.getAbortController();\n        if (typeof plugin.copy !== 'function') {\n            return Promise.reject(\".copy is not implemented on provider \".concat(plugin.getProviderName()));\n        }\n        var responsePromise = plugin.copy(src, dest, __assign(__assign({}, config), { abortSignal: abortController.signal }));\n        this.updateRequestToBeCancellable(responsePromise, abortController);\n        return responsePromise;\n    };\n    Storage.prototype.get = function (key, config) {\n        var provider = (config === null || config === void 0 ? void 0 : config.provider) || DEFAULT_PROVIDER;\n        var plugin = this._pluggables.find(function (pluggable) { return pluggable.getProviderName() === provider; });\n        if (plugin === undefined) {\n            logger.debug('No plugin found with providerName', provider);\n            return Promise.reject('No plugin found in Storage for the provider');\n        }\n        var abortController = this.getAbortController();\n        var responsePromise = plugin.get(key, __assign(__assign({}, config), { abortSignal: abortController.signal }));\n        this.updateRequestToBeCancellable(responsePromise, abortController);\n        return responsePromise;\n    };\n    Storage.prototype.isCancelError = function (error) {\n        return isCancelError(error);\n    };\n    Storage.prototype.getProperties = function (key, config) {\n        var provider = (config === null || config === void 0 ? void 0 : config.provider) || DEFAULT_PROVIDER;\n        var plugin = this._pluggables.find(function (pluggable) { return pluggable.getProviderName() === provider; });\n        if (plugin === undefined) {\n            logger.debug('No plugin found with providerName', provider);\n            throw new Error('No plugin found with providerName');\n        }\n        var abortController = this.getAbortController();\n        if (typeof plugin.getProperties !== 'function') {\n            return Promise.reject(\".getProperties is not implemented on provider \".concat(plugin.getProviderName()));\n        }\n        var responsePromise = plugin === null || plugin === void 0 ? void 0 : plugin.getProperties(key, __assign({}, config));\n        this.updateRequestToBeCancellable(responsePromise, abortController);\n        return responsePromise;\n    };\n    Storage.prototype.put = function (key, object, config) {\n        var provider = (config === null || config === void 0 ? void 0 : config.provider) || DEFAULT_PROVIDER;\n        var plugin = this._pluggables.find(function (pluggable) { return pluggable.getProviderName() === provider; });\n        if (plugin === undefined) {\n            logger.debug('No plugin found with providerName', provider);\n            return Promise.reject('No plugin found in Storage for the provider');\n        }\n        var abortController = this.getAbortController();\n        var response = plugin.put(key, object, __assign(__assign({}, config), { abortSignal: abortController.signal }));\n        if (!this.isUploadTask(response)) {\n            this.updateRequestToBeCancellable(response, abortController);\n        }\n        return response;\n    };\n    Storage.prototype.remove = function (key, config) {\n        var provider = (config === null || config === void 0 ? void 0 : config.provider) || DEFAULT_PROVIDER;\n        var plugin = this._pluggables.find(function (pluggable) { return pluggable.getProviderName() === provider; });\n        if (plugin === undefined) {\n            logger.debug('No plugin found with providerName', provider);\n            return Promise.reject('No plugin found in Storage for the provider');\n        }\n        return plugin.remove(key, config);\n    };\n    Storage.prototype.list = function (path, config) {\n        var provider = (config === null || config === void 0 ? void 0 : config.provider) || DEFAULT_PROVIDER;\n        var plugin = this._pluggables.find(function (pluggable) { return pluggable.getProviderName() === provider; });\n        if (plugin === undefined) {\n            logger.debug('No plugin found with providerName', provider);\n            return Promise.reject('No plugin found in Storage for the provider');\n        }\n        return plugin.list(path, config);\n    };\n    return Storage;\n}());\nexport { Storage };\n/**\n * Configure & register Storage singleton instance.\n */\nvar _instance = null;\nvar getInstance = function () {\n    if (_instance) {\n        return _instance;\n    }\n    loggerStorageInstance.debug('Create Storage Instance, debug');\n    _instance = new Storage();\n    _instance.vault = new Storage();\n    var old_configure = _instance.configure;\n    _instance.configure = function (options) {\n        loggerStorageInstance.debug('storage configure called');\n        var vaultConfig = __assign({}, old_configure.call(_instance, options));\n        // set level private for each provider for the vault\n        Object.keys(vaultConfig).forEach(function (providerName) {\n            if (typeof vaultConfig[providerName] !== 'string') {\n                vaultConfig[providerName] = __assign(__assign({}, vaultConfig[providerName]), { level: 'private' });\n            }\n        });\n        loggerStorageInstance.debug('storage vault configure called');\n        _instance.vault.configure(vaultConfig);\n    };\n    return _instance;\n};\nexport var StorageInstance = getInstance();\nAmplify.register(StorageInstance);\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}