{"ast":null,"code":"import { __awaiter as e } from \"tslib\";\nimport t from \"qrcode\";\nimport * as o from \"react\";\nimport { Logger as r } from \"aws-amplify\";\nimport { authenticatorTextUtil as a, getTotpCodeURL as m } from \"@aws-amplify/ui\";\nimport { Flex as i } from \"../../../primitives/Flex/Flex.mjs\";\nimport { Heading as n } from \"../../../primitives/Heading/Heading.mjs\";\nimport { useAuthenticator as l } from \"@aws-amplify/ui-react-core\";\nimport { useCustomComponents as s } from \"../hooks/useCustomComponents/index.mjs\";\nimport { useFormHandlers as c } from \"../hooks/useFormHandlers/useFormHandlers.mjs\";\nimport { ConfirmSignInFooter as d } from \"../shared/ConfirmSignInFooter.mjs\";\nimport { RemoteErrorMessage as p } from \"../shared/RemoteErrorMessage.mjs\";\nimport { FormFields as u } from \"../shared/FormFields.mjs\";\nimport { RouteContainer as f } from \"../RouteContainer/RouteContainer.mjs\";\n\nconst g = new r(\"SetupTOTP-logger\"),\n      {\n  getSetupTOTPText: h,\n  getCopiedText: E,\n  getLoadingText: v\n} = a,\n      C = ({\n  className: r,\n  variation: a\n}) => {\n  var n;\n  const {\n    totpSecretCode: h,\n    isPending: y,\n    user: H,\n    QRFields: w\n  } = l(e => [e.isPending, e.totpSecretCode]),\n        {\n    handleChange: S,\n    handleSubmit: F\n  } = c(),\n        {\n    components: {\n      SetupTOTP: {\n        Header: x = C.Header,\n        Footer: T = C.Footer\n      }\n    }\n  } = s(),\n        [j, V] = o.useState(!0),\n        [b, P] = o.useState(),\n        [R, k] = o.useState(\"COPY\"),\n        {\n    totpIssuer: L = \"AWSCognito\",\n    totpUsername: M = null == H ? void 0 : H.username\n  } = null !== (n = w) && void 0 !== n ? n : {},\n        O = o.useCallback(() => e(void 0, void 0, void 0, function* () {\n    try {\n      const e = m(L, M, h),\n            o = yield t.toDataURL(e);\n      P(o);\n    } catch (e) {\n      g.error(e);\n    } finally {\n      V(!1);\n    }\n  }), [L, M, h]);\n  o.useEffect(() => {\n    b || O();\n  }, [O, b]);\n  return o.createElement(f, {\n    className: r,\n    variation: a\n  }, o.createElement(\"form\", {\n    \"data-amplify-form\": \"\",\n    \"data-amplify-authenticator-setup-totp\": \"\",\n    method: \"post\",\n    onChange: S,\n    onSubmit: F\n  }, o.createElement(i, {\n    as: \"fieldset\",\n    direction: \"column\",\n    isDisabled: y\n  }, o.createElement(x, null), o.createElement(i, {\n    direction: \"column\"\n  }, j ? o.createElement(\"p\", null, v(), \"…\") : o.createElement(\"img\", {\n    \"data-amplify-qrcode\": !0,\n    src: b,\n    alt: \"qr code\",\n    width: \"228\",\n    height: \"228\"\n  }), o.createElement(i, {\n    \"data-amplify-copy\": !0\n  }, o.createElement(\"div\", null, h), o.createElement(i, {\n    \"data-amplify-copy-svg\": !0,\n    onClick: () => {\n      navigator.clipboard.writeText(h), k(E());\n    }\n  }, o.createElement(\"div\", {\n    \"data-amplify-copy-tooltip\": !0\n  }, R), o.createElement(\"svg\", {\n    width: \"24\",\n    height: \"24\",\n    viewBox: \"0 0 24 24\",\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, o.createElement(\"path\", {\n    d: \"M16 1H4C2.9 1 2 1.9 2 3V17H4V3H16V1ZM15 5H8C6.9 5 6.01 5.9 6.01 7L6 21C6 22.1 6.89 23 7.99 23H19C20.1 23 21 22.1 21 21V11L15 5ZM8 21V7H14V12H19V21H8Z\"\n  })))), o.createElement(u, null), o.createElement(p, null)), o.createElement(d, null), o.createElement(T, null))));\n};\n\nC.Header = function () {\n  return o.createElement(n, {\n    level: 3\n  }, h());\n}, C.Footer = function () {\n  return null;\n};\nexport { C as SetupTOTP };","map":{"version":3,"names":["__awaiter","e","t","o","Logger","r","authenticatorTextUtil","a","getTotpCodeURL","m","Flex","i","Heading","n","useAuthenticator","l","useCustomComponents","s","useFormHandlers","c","ConfirmSignInFooter","d","RemoteErrorMessage","p","FormFields","u","RouteContainer","f","g","getSetupTOTPText","h","getCopiedText","E","getLoadingText","v","C","className","variation","totpSecretCode","isPending","y","user","H","QRFields","w","handleChange","S","handleSubmit","F","components","SetupTOTP","Header","x","Footer","T","j","V","useState","b","P","R","k","totpIssuer","L","totpUsername","M","username","O","useCallback","toDataURL","error","useEffect","createElement","method","onChange","onSubmit","as","direction","isDisabled","src","alt","width","height","onClick","navigator","clipboard","writeText","viewBox","xmlns","level"],"sources":["D:/aws-rekognition-liveness-detection-main/node_modules/@aws-amplify/ui-react/dist/esm/components/Authenticator/SetupTOTP/SetupTOTP.mjs"],"sourcesContent":["import{__awaiter as e}from\"tslib\";import t from\"qrcode\";import*as o from\"react\";import{Logger as r}from\"aws-amplify\";import{authenticatorTextUtil as a,getTotpCodeURL as m}from\"@aws-amplify/ui\";import{Flex as i}from\"../../../primitives/Flex/Flex.mjs\";import{Heading as n}from\"../../../primitives/Heading/Heading.mjs\";import{useAuthenticator as l}from\"@aws-amplify/ui-react-core\";import{useCustomComponents as s}from\"../hooks/useCustomComponents/index.mjs\";import{useFormHandlers as c}from\"../hooks/useFormHandlers/useFormHandlers.mjs\";import{ConfirmSignInFooter as d}from\"../shared/ConfirmSignInFooter.mjs\";import{RemoteErrorMessage as p}from\"../shared/RemoteErrorMessage.mjs\";import{FormFields as u}from\"../shared/FormFields.mjs\";import{RouteContainer as f}from\"../RouteContainer/RouteContainer.mjs\";const g=new r(\"SetupTOTP-logger\"),{getSetupTOTPText:h,getCopiedText:E,getLoadingText:v}=a,C=({className:r,variation:a})=>{var n;const{totpSecretCode:h,isPending:y,user:H,QRFields:w}=l((e=>[e.isPending,e.totpSecretCode])),{handleChange:S,handleSubmit:F}=c(),{components:{SetupTOTP:{Header:x=C.Header,Footer:T=C.Footer}}}=s(),[j,V]=o.useState(!0),[b,P]=o.useState(),[R,k]=o.useState(\"COPY\"),{totpIssuer:L=\"AWSCognito\",totpUsername:M=(null==H?void 0:H.username)}=null!==(n=w)&&void 0!==n?n:{},O=o.useCallback((()=>e(void 0,void 0,void 0,(function*(){try{const e=m(L,M,h),o=yield t.toDataURL(e);P(o)}catch(e){g.error(e)}finally{V(!1)}}))),[L,M,h]);o.useEffect((()=>{b||O()}),[O,b]);return o.createElement(f,{className:r,variation:a},o.createElement(\"form\",{\"data-amplify-form\":\"\",\"data-amplify-authenticator-setup-totp\":\"\",method:\"post\",onChange:S,onSubmit:F},o.createElement(i,{as:\"fieldset\",direction:\"column\",isDisabled:y},o.createElement(x,null),o.createElement(i,{direction:\"column\"},j?o.createElement(\"p\",null,v(),\"…\"):o.createElement(\"img\",{\"data-amplify-qrcode\":!0,src:b,alt:\"qr code\",width:\"228\",height:\"228\"}),o.createElement(i,{\"data-amplify-copy\":!0},o.createElement(\"div\",null,h),o.createElement(i,{\"data-amplify-copy-svg\":!0,onClick:()=>{navigator.clipboard.writeText(h),k(E())}},o.createElement(\"div\",{\"data-amplify-copy-tooltip\":!0},R),o.createElement(\"svg\",{width:\"24\",height:\"24\",viewBox:\"0 0 24 24\",xmlns:\"http://www.w3.org/2000/svg\"},o.createElement(\"path\",{d:\"M16 1H4C2.9 1 2 1.9 2 3V17H4V3H16V1ZM15 5H8C6.9 5 6.01 5.9 6.01 7L6 21C6 22.1 6.89 23 7.99 23H19C20.1 23 21 22.1 21 21V11L15 5ZM8 21V7H14V12H19V21H8Z\"})))),o.createElement(u,null),o.createElement(p,null)),o.createElement(d,null),o.createElement(T,null))))};C.Header=function(){return o.createElement(n,{level:3},h())},C.Footer=function(){return null};export{C as SetupTOTP};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}