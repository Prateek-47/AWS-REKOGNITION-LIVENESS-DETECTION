{"ast":null,"code":"// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { getHashedDataAsHex } from './dataHashHelpers';\nimport { getCanonicalRequest } from './getCanonicalRequest';\nimport { getSigningKey } from './getSigningKey';\nimport { getStringToSign } from './getStringToSign';\n/**\n * Calculates and returns an AWS API Signature.\n * https://docs.aws.amazon.com/IAM/latest/UserGuide/create-signed-request.html\n *\n * @param request `HttpRequest` to be signed.\n * @param signRequestOptions `SignRequestOptions` object containing values used to construct the signature.\n * @returns AWS API Signature to sign a request or url with.\n *\n * @internal\n */\n\nexport var getSignature = function (request, _a) {\n  var credentialScope = _a.credentialScope,\n      longDate = _a.longDate,\n      secretAccessKey = _a.secretAccessKey,\n      shortDate = _a.shortDate,\n      signingRegion = _a.signingRegion,\n      signingService = _a.signingService,\n      uriEscapePath = _a.uriEscapePath; // step 1: create a canonical request\n\n  var canonicalRequest = getCanonicalRequest(request, uriEscapePath); // step 2: create a hash of the canonical request\n\n  var hashedRequest = getHashedDataAsHex(null, canonicalRequest); // step 3: create a string to sign\n\n  var stringToSign = getStringToSign(longDate, credentialScope, hashedRequest); // step 4: calculate the signature\n\n  var signature = getHashedDataAsHex(getSigningKey(secretAccessKey, shortDate, signingRegion, signingService), stringToSign);\n  return signature;\n};","map":{"version":3,"names":["getHashedDataAsHex","getCanonicalRequest","getSigningKey","getStringToSign","getSignature","request","_a","credentialScope","longDate","secretAccessKey","shortDate","signingRegion","signingService","uriEscapePath","canonicalRequest","hashedRequest","stringToSign","signature"],"sources":["D:/aws-rekognition-liveness-detection-main/node_modules/@aws-amplify/core/lib-esm/clients/middleware/signing/signer/signatureV4/utils/getSignature.js"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { getHashedDataAsHex } from './dataHashHelpers';\nimport { getCanonicalRequest } from './getCanonicalRequest';\nimport { getSigningKey } from './getSigningKey';\nimport { getStringToSign } from './getStringToSign';\n/**\n * Calculates and returns an AWS API Signature.\n * https://docs.aws.amazon.com/IAM/latest/UserGuide/create-signed-request.html\n *\n * @param request `HttpRequest` to be signed.\n * @param signRequestOptions `SignRequestOptions` object containing values used to construct the signature.\n * @returns AWS API Signature to sign a request or url with.\n *\n * @internal\n */\nexport var getSignature = function (request, _a) {\n    var credentialScope = _a.credentialScope, longDate = _a.longDate, secretAccessKey = _a.secretAccessKey, shortDate = _a.shortDate, signingRegion = _a.signingRegion, signingService = _a.signingService, uriEscapePath = _a.uriEscapePath;\n    // step 1: create a canonical request\n    var canonicalRequest = getCanonicalRequest(request, uriEscapePath);\n    // step 2: create a hash of the canonical request\n    var hashedRequest = getHashedDataAsHex(null, canonicalRequest);\n    // step 3: create a string to sign\n    var stringToSign = getStringToSign(longDate, credentialScope, hashedRequest);\n    // step 4: calculate the signature\n    var signature = getHashedDataAsHex(getSigningKey(secretAccessKey, shortDate, signingRegion, signingService), stringToSign);\n    return signature;\n};\n"],"mappings":"AAAA;AACA;AACA,SAASA,kBAAT,QAAmC,mBAAnC;AACA,SAASC,mBAAT,QAAoC,uBAApC;AACA,SAASC,aAAT,QAA8B,iBAA9B;AACA,SAASC,eAAT,QAAgC,mBAAhC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,IAAIC,YAAY,GAAG,UAAUC,OAAV,EAAmBC,EAAnB,EAAuB;EAC7C,IAAIC,eAAe,GAAGD,EAAE,CAACC,eAAzB;EAAA,IAA0CC,QAAQ,GAAGF,EAAE,CAACE,QAAxD;EAAA,IAAkEC,eAAe,GAAGH,EAAE,CAACG,eAAvF;EAAA,IAAwGC,SAAS,GAAGJ,EAAE,CAACI,SAAvH;EAAA,IAAkIC,aAAa,GAAGL,EAAE,CAACK,aAArJ;EAAA,IAAoKC,cAAc,GAAGN,EAAE,CAACM,cAAxL;EAAA,IAAwMC,aAAa,GAAGP,EAAE,CAACO,aAA3N,CAD6C,CAE7C;;EACA,IAAIC,gBAAgB,GAAGb,mBAAmB,CAACI,OAAD,EAAUQ,aAAV,CAA1C,CAH6C,CAI7C;;EACA,IAAIE,aAAa,GAAGf,kBAAkB,CAAC,IAAD,EAAOc,gBAAP,CAAtC,CAL6C,CAM7C;;EACA,IAAIE,YAAY,GAAGb,eAAe,CAACK,QAAD,EAAWD,eAAX,EAA4BQ,aAA5B,CAAlC,CAP6C,CAQ7C;;EACA,IAAIE,SAAS,GAAGjB,kBAAkB,CAACE,aAAa,CAACO,eAAD,EAAkBC,SAAlB,EAA6BC,aAA7B,EAA4CC,cAA5C,CAAd,EAA2EI,YAA3E,CAAlC;EACA,OAAOC,SAAP;AACH,CAXM"},"metadata":{},"sourceType":"module"}