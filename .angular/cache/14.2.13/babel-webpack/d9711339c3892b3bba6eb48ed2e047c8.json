{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _tslib = require('./_virtual/_tslib.js');\n\nvar defaultWaitForOptions = {\n  timeout: 10000 // 10 seconds\n\n};\n/**\r\n * Subscribes to an actor ref and waits for its emitted value to satisfy\r\n * a predicate, and then resolves with that value.\r\n * Will throw if the desired state is not reached after a timeout\r\n * (defaults to 10 seconds).\r\n *\r\n * @example\r\n * ```js\r\n * const state = await waitFor(someService, state => {\r\n *   return state.hasTag('loaded');\r\n * });\r\n *\r\n * state.hasTag('loaded'); // true\r\n * ```\r\n *\r\n * @param actorRef The actor ref to subscribe to\r\n * @param predicate Determines if a value matches the condition to wait for\r\n * @param options\r\n * @returns A promise that eventually resolves to the emitted value\r\n * that matches the condition\r\n */\n\nfunction waitFor(actorRef, predicate, options) {\n  var resolvedOptions = _tslib.__assign(_tslib.__assign({}, defaultWaitForOptions), options);\n\n  return new Promise(function (res, rej) {\n    var done = false;\n\n    if (process.env.NODE_ENV !== 'production' && resolvedOptions.timeout < 0) {\n      console.error('`timeout` passed to `waitFor` is negative and it will reject its internal promise immediately.');\n    }\n\n    var handle = resolvedOptions.timeout === Infinity ? undefined : setTimeout(function () {\n      sub.unsubscribe();\n      rej(new Error(\"Timeout of \".concat(resolvedOptions.timeout, \" ms exceeded\")));\n    }, resolvedOptions.timeout);\n\n    var dispose = function () {\n      clearTimeout(handle);\n      done = true;\n      sub === null || sub === void 0 ? void 0 : sub.unsubscribe();\n    };\n\n    var sub = actorRef.subscribe({\n      next: function (emitted) {\n        if (predicate(emitted)) {\n          dispose();\n          res(emitted);\n        }\n      },\n      error: function (err) {\n        dispose();\n        rej(err);\n      },\n      complete: function () {\n        dispose();\n        rej(new Error(\"Actor terminated without satisfying predicate\"));\n      }\n    });\n\n    if (done) {\n      sub.unsubscribe();\n    }\n  });\n}\n\nexports.waitFor = waitFor;","map":{"version":3,"names":["Object","defineProperty","exports","value","_tslib","require","defaultWaitForOptions","timeout","waitFor","actorRef","predicate","options","resolvedOptions","__assign","Promise","res","rej","done","process","env","NODE_ENV","console","error","handle","Infinity","undefined","setTimeout","sub","unsubscribe","Error","concat","dispose","clearTimeout","subscribe","next","emitted","err","complete"],"sources":["D:/aws-rekognition-liveness-detection-main/node_modules/xstate/lib/waitFor.js"],"sourcesContent":["'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nvar _tslib = require('./_virtual/_tslib.js');\n\nvar defaultWaitForOptions = {\n  timeout: 10000 // 10 seconds\n\n};\n/**\r\n * Subscribes to an actor ref and waits for its emitted value to satisfy\r\n * a predicate, and then resolves with that value.\r\n * Will throw if the desired state is not reached after a timeout\r\n * (defaults to 10 seconds).\r\n *\r\n * @example\r\n * ```js\r\n * const state = await waitFor(someService, state => {\r\n *   return state.hasTag('loaded');\r\n * });\r\n *\r\n * state.hasTag('loaded'); // true\r\n * ```\r\n *\r\n * @param actorRef The actor ref to subscribe to\r\n * @param predicate Determines if a value matches the condition to wait for\r\n * @param options\r\n * @returns A promise that eventually resolves to the emitted value\r\n * that matches the condition\r\n */\n\nfunction waitFor(actorRef, predicate, options) {\n  var resolvedOptions = _tslib.__assign(_tslib.__assign({}, defaultWaitForOptions), options);\n\n  return new Promise(function (res, rej) {\n    var done = false;\n\n    if (process.env.NODE_ENV !== 'production' && resolvedOptions.timeout < 0) {\n      console.error('`timeout` passed to `waitFor` is negative and it will reject its internal promise immediately.');\n    }\n\n    var handle = resolvedOptions.timeout === Infinity ? undefined : setTimeout(function () {\n      sub.unsubscribe();\n      rej(new Error(\"Timeout of \".concat(resolvedOptions.timeout, \" ms exceeded\")));\n    }, resolvedOptions.timeout);\n\n    var dispose = function () {\n      clearTimeout(handle);\n      done = true;\n      sub === null || sub === void 0 ? void 0 : sub.unsubscribe();\n    };\n\n    var sub = actorRef.subscribe({\n      next: function (emitted) {\n        if (predicate(emitted)) {\n          dispose();\n          res(emitted);\n        }\n      },\n      error: function (err) {\n        dispose();\n        rej(err);\n      },\n      complete: function () {\n        dispose();\n        rej(new Error(\"Actor terminated without satisfying predicate\"));\n      }\n    });\n\n    if (done) {\n      sub.unsubscribe();\n    }\n  });\n}\n\nexports.waitFor = waitFor;\n"],"mappings":"AAAA;;AAEAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;EAAEC,KAAK,EAAE;AAAT,CAA7C;;AAEA,IAAIC,MAAM,GAAGC,OAAO,CAAC,sBAAD,CAApB;;AAEA,IAAIC,qBAAqB,GAAG;EAC1BC,OAAO,EAAE,KADiB,CACX;;AADW,CAA5B;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAASC,OAAT,CAAiBC,QAAjB,EAA2BC,SAA3B,EAAsCC,OAAtC,EAA+C;EAC7C,IAAIC,eAAe,GAAGR,MAAM,CAACS,QAAP,CAAgBT,MAAM,CAACS,QAAP,CAAgB,EAAhB,EAAoBP,qBAApB,CAAhB,EAA4DK,OAA5D,CAAtB;;EAEA,OAAO,IAAIG,OAAJ,CAAY,UAAUC,GAAV,EAAeC,GAAf,EAAoB;IACrC,IAAIC,IAAI,GAAG,KAAX;;IAEA,IAAIC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,IAAyCR,eAAe,CAACL,OAAhB,GAA0B,CAAvE,EAA0E;MACxEc,OAAO,CAACC,KAAR,CAAc,gGAAd;IACD;;IAED,IAAIC,MAAM,GAAGX,eAAe,CAACL,OAAhB,KAA4BiB,QAA5B,GAAuCC,SAAvC,GAAmDC,UAAU,CAAC,YAAY;MACrFC,GAAG,CAACC,WAAJ;MACAZ,GAAG,CAAC,IAAIa,KAAJ,CAAU,cAAcC,MAAd,CAAqBlB,eAAe,CAACL,OAArC,EAA8C,cAA9C,CAAV,CAAD,CAAH;IACD,CAHyE,EAGvEK,eAAe,CAACL,OAHuD,CAA1E;;IAKA,IAAIwB,OAAO,GAAG,YAAY;MACxBC,YAAY,CAACT,MAAD,CAAZ;MACAN,IAAI,GAAG,IAAP;MACAU,GAAG,KAAK,IAAR,IAAgBA,GAAG,KAAK,KAAK,CAA7B,GAAiC,KAAK,CAAtC,GAA0CA,GAAG,CAACC,WAAJ,EAA1C;IACD,CAJD;;IAMA,IAAID,GAAG,GAAGlB,QAAQ,CAACwB,SAAT,CAAmB;MAC3BC,IAAI,EAAE,UAAUC,OAAV,EAAmB;QACvB,IAAIzB,SAAS,CAACyB,OAAD,CAAb,EAAwB;UACtBJ,OAAO;UACPhB,GAAG,CAACoB,OAAD,CAAH;QACD;MACF,CAN0B;MAO3Bb,KAAK,EAAE,UAAUc,GAAV,EAAe;QACpBL,OAAO;QACPf,GAAG,CAACoB,GAAD,CAAH;MACD,CAV0B;MAW3BC,QAAQ,EAAE,YAAY;QACpBN,OAAO;QACPf,GAAG,CAAC,IAAIa,KAAJ,CAAU,+CAAV,CAAD,CAAH;MACD;IAd0B,CAAnB,CAAV;;IAiBA,IAAIZ,IAAJ,EAAU;MACRU,GAAG,CAACC,WAAJ;IACD;EACF,CAtCM,CAAP;AAuCD;;AAED1B,OAAO,CAACM,OAAR,GAAkBA,OAAlB"},"metadata":{},"sourceType":"script"}