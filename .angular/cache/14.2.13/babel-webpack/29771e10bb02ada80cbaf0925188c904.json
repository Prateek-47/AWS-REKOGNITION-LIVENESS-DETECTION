{"ast":null,"code":"import _asyncToGenerator from \"D:/aws-rekognition-liveness-detection-main/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { BehaviorSubject } from 'rxjs';\nimport { Auth } from 'aws-amplify';\nimport * as AWS from 'aws-sdk';\nimport * as i0 from \"@angular/core\";\nexport class LivenessService {\n  constructor() {\n    this.liveness_session = new BehaviorSubject(['empty', {}]);\n  }\n\n  get_current_session() {\n    return _asyncToGenerator(function* () {\n      return yield Auth.currentSession();\n    })();\n  } // Modify to get face liveness session\n\n\n  get_face_liveness_session() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      var rekognition = new AWS.Rekognition();\n      rekognition.createFaceLivenessSession({}, (err, data) => {\n        if (err) console.log(err, err.stack);else {\n          _this.liveness_session.next(['success', data]);\n        }\n      });\n    })();\n  }\n\n}\n\nLivenessService.ɵfac = function LivenessService_Factory(t) {\n  return new (t || LivenessService)();\n};\n\nLivenessService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: LivenessService,\n  factory: LivenessService.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"mappings":";AACA,SAASA,eAAT,QAAgC,MAAhC;AACA,SAASC,IAAT,QAAqB,aAArB;AACA,OAAO,KAAKC,GAAZ,MAAqB,SAArB;;AAKA,OAAM,MAAOC,eAAP,CAAsB;EAH5BC;IAIS,wBAAkD,IAAIJ,eAAJ,CAAkC,CAAC,OAAD,EAAU,EAAV,CAAlC,CAAlD;EAkBR;;EAhBOK,mBAAmB;IAAA;MACvB,aAAcJ,IAAI,CAACK,cAAL,EAAd;IADuB;EAExB,CALyB,CAQ1B;;;EACMC,yBAAyB;IAAA;;IAAA;MAC7B,IAAIC,WAAW,GAAG,IAAIN,GAAG,CAACO,WAAR,EAAlB;MACAD,WAAW,CAACE,yBAAZ,CAAsC,EAAtC,EAA0C,CAACC,GAAD,EAAMC,IAAN,KAAc;QACtD,IAAID,GAAJ,EACEE,OAAO,CAACC,GAAR,CAAYH,GAAZ,EAAiBA,GAAG,CAACI,KAArB,EADF,KAEK;UACH,KAAI,CAACC,gBAAL,CAAsBC,IAAtB,CAA2B,CAAC,SAAD,EAAYL,IAAZ,CAA3B;QACD;MACF,CAND;IAF6B;EAS9B;;AAlByB;;;mBAAfT;AAAe;;;SAAfA;EAAee,SAAff,eAAe;EAAAgB,YAFd","names":["BehaviorSubject","Auth","AWS","LivenessService","constructor","get_current_session","currentSession","get_face_liveness_session","rekognition","Rekognition","createFaceLivenessSession","err","data","console","log","stack","liveness_session","next","factory","providedIn"],"sourceRoot":"","sources":["D:\\aws-rekognition-liveness-detection-main\\src\\app\\face-liveness\\liveness.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs';\nimport { Auth } from 'aws-amplify';\nimport * as AWS from 'aws-sdk';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class LivenessService {\n  public liveness_session: BehaviorSubject<[string, {}]> = new BehaviorSubject<[string, {}]>(['empty', {}]);\n\n  async get_current_session() {\n    return (await Auth.currentSession())\n  }\n\n\n  // Modify to get face liveness session\n  async get_face_liveness_session() {\n    var rekognition = new AWS.Rekognition();\n    rekognition.createFaceLivenessSession({}, (err, data) => {\n      if (err)\n        console.log(err, err.stack);\n      else {\n        this.liveness_session.next(['success', data]);\n      }\n    });\n  }\n}\n"]},"metadata":{},"sourceType":"module"}