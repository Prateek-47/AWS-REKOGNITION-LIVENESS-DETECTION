{"ast":null,"code":"import * as e from \"react\";\nimport { isFunction as t } from \"@aws-amplify/ui\";\nimport { ARROW_UP as o, ARROW_DOWN as n, ENTER_KEY as l, ESCAPE_KEY as s } from \"../shared/constants.mjs\";\nimport { strHasLength as i } from \"../shared/utils.mjs\";\nimport { useStableId as a } from \"../utils/useStableId.mjs\";\n\nconst u = new Set([n, o, l, s]),\n      c = ({\n  defaultValue: c = \"\",\n  value: r,\n  options: d,\n  optionFilter: m,\n  onBlur: f,\n  onChange: p,\n  onClear: h,\n  onClick: g,\n  onSelect: b,\n  onSubmit: v\n}) => {\n  var C;\n  const I = void 0 !== r,\n        [k, w] = e.useState(c),\n        O = I ? r : k,\n        [B, E] = e.useState(!1),\n        [y, S] = e.useState(null),\n        T = t(m),\n        H = e.useMemo(() => {\n    var e;\n    const t = T ? e => m(e, O) : e => {\n      const {\n        label: t\n      } = e;\n      return null == t ? void 0 : t.toLocaleLowerCase().includes(null == O ? void 0 : O.toLocaleLowerCase());\n    };\n    return null !== (e = null == d ? void 0 : d.filter(t)) && void 0 !== e ? e : [];\n  }, [O, m, T, d]),\n        L = a(),\n        M = a(),\n        V = a(),\n        j = a(),\n        x = H.findIndex(e => e === y),\n        D = null !== (C = null == y ? void 0 : y.id) && void 0 !== C ? C : -1 !== x ? `${j}-option-${x}` : void 0,\n        F = e.useCallback(e => {\n    E(!1), S(null), t(f) && f(e);\n  }, [f]),\n        R = e.useCallback(e => {\n    S(null), E(!0), I || w(e.target.value), t(p) && p(e);\n  }, [I, p]),\n        $ = e.useCallback(() => {\n    I || w(\"\"), t(h) && h();\n  }, [I, h]),\n        A = e.useCallback(e => {\n    E(!0), t(g) && g(e);\n  }, [g]);\n  return e.useEffect(() => {\n    const e = document.getElementById(L),\n          t = document.getElementById(V);\n\n    if (t && B && e) {\n      const {\n        bottom: o\n      } = t.getBoundingClientRect(),\n            {\n        offsetParent: n,\n        offsetTop: l\n      } = e;\n      n === document.body && o > document.documentElement.clientHeight && window.scrollTo({\n        top: Math.min(o - document.documentElement.clientHeight + window.scrollY + 20, l),\n        behavior: \"smooth\"\n      });\n    }\n  }, [L, B, V]), e.useEffect(() => {\n    const e = document.getElementById(M),\n          t = i(D) ? document.getElementById(D) : null;\n\n    if (t && e) {\n      const {\n        scrollTop: o,\n        clientHeight: n\n      } = e,\n            {\n        offsetHeight: l,\n        offsetTop: s\n      } = t,\n            {\n        top: i,\n        bottom: a\n      } = t.getBoundingClientRect();\n      o > s && (e.scrollTop = s), o + n < s + l && (e.scrollTop = s + l - n), (i < 0 || a > document.documentElement.clientHeight) && t.scrollIntoView({\n        behavior: \"smooth\",\n        block: \"nearest\"\n      });\n    }\n  }, [D, M]), {\n    activeOptionId: D,\n    autocompleteId: L,\n    composedValue: O,\n    filteredOptions: H,\n    handleOnBlur: F,\n    handleOnClear: $,\n    handleOnClick: A,\n    handleOnChange: R,\n    handleOnKeyDown: e => {\n      const {\n        key: i\n      } = e;\n      if (u.has(i)) switch (e.preventDefault(), i) {\n        case s:\n          B ? (E(!1), S(null)) : $();\n          break;\n\n        case l:\n          if (y) {\n            const {\n              label: e\n            } = y;\n            I || w(e), t(b) && b(y);\n          } else t(v) && v(O);\n\n          E(!1), S(null);\n          break;\n\n        case n:\n          {\n            if (H.length <= 0) return;\n            E(!0);\n            const e = x >= H.length - 1 ? 0 : x + 1;\n            S(H[e]);\n            break;\n          }\n\n        case o:\n          {\n            if (H.length <= 0) return;\n            E(!0);\n            const e = x <= 0 ? H.length - 1 : x - 1;\n            S(H[e]);\n          }\n      }\n    },\n    isControlled: I,\n    isCustomFiltering: T,\n    isMenuOpen: B,\n    listboxId: M,\n    menuId: V,\n    optionBaseId: j,\n    setActiveOption: S,\n    setIsMenuOpen: E,\n    setInternalValue: w\n  };\n};\n\nexport { c as useAutocomplete };","map":{"version":3,"names":["e","isFunction","t","ARROW_UP","o","ARROW_DOWN","n","ENTER_KEY","l","ESCAPE_KEY","s","strHasLength","i","useStableId","a","u","Set","c","defaultValue","value","r","options","d","optionFilter","m","onBlur","f","onChange","p","onClear","h","onClick","g","onSelect","b","onSubmit","v","C","I","k","w","useState","O","B","E","y","S","T","H","useMemo","label","toLocaleLowerCase","includes","filter","L","M","V","j","x","findIndex","D","id","F","useCallback","R","target","$","A","useEffect","document","getElementById","bottom","getBoundingClientRect","offsetParent","offsetTop","body","documentElement","clientHeight","window","scrollTo","top","Math","min","scrollY","behavior","scrollTop","offsetHeight","scrollIntoView","block","activeOptionId","autocompleteId","composedValue","filteredOptions","handleOnBlur","handleOnClear","handleOnClick","handleOnChange","handleOnKeyDown","key","has","preventDefault","length","isControlled","isCustomFiltering","isMenuOpen","listboxId","menuId","optionBaseId","setActiveOption","setIsMenuOpen","setInternalValue","useAutocomplete"],"sources":["D:/aws-rekognition-liveness-detection-main/node_modules/@aws-amplify/ui-react/dist/esm/primitives/Autocomplete/useAutocomplete.mjs"],"sourcesContent":["import*as e from\"react\";import{isFunction as t}from\"@aws-amplify/ui\";import{ARROW_UP as o,ARROW_DOWN as n,ENTER_KEY as l,ESCAPE_KEY as s}from\"../shared/constants.mjs\";import{strHasLength as i}from\"../shared/utils.mjs\";import{useStableId as a}from\"../utils/useStableId.mjs\";const u=new Set([n,o,l,s]),c=({defaultValue:c=\"\",value:r,options:d,optionFilter:m,onBlur:f,onChange:p,onClear:h,onClick:g,onSelect:b,onSubmit:v})=>{var C;const I=void 0!==r,[k,w]=e.useState(c),O=I?r:k,[B,E]=e.useState(!1),[y,S]=e.useState(null),T=t(m),H=e.useMemo((()=>{var e;const t=T?e=>m(e,O):e=>{const{label:t}=e;return null==t?void 0:t.toLocaleLowerCase().includes(null==O?void 0:O.toLocaleLowerCase())};return null!==(e=null==d?void 0:d.filter(t))&&void 0!==e?e:[]}),[O,m,T,d]),L=a(),M=a(),V=a(),j=a(),x=H.findIndex((e=>e===y)),D=null!==(C=null==y?void 0:y.id)&&void 0!==C?C:-1!==x?`${j}-option-${x}`:void 0,F=e.useCallback((e=>{E(!1),S(null),t(f)&&f(e)}),[f]),R=e.useCallback((e=>{S(null),E(!0),I||w(e.target.value),t(p)&&p(e)}),[I,p]),$=e.useCallback((()=>{I||w(\"\"),t(h)&&h()}),[I,h]),A=e.useCallback((e=>{E(!0),t(g)&&g(e)}),[g]);return e.useEffect((()=>{const e=document.getElementById(L),t=document.getElementById(V);if(t&&B&&e){const{bottom:o}=t.getBoundingClientRect(),{offsetParent:n,offsetTop:l}=e;n===document.body&&o>document.documentElement.clientHeight&&window.scrollTo({top:Math.min(o-document.documentElement.clientHeight+window.scrollY+20,l),behavior:\"smooth\"})}}),[L,B,V]),e.useEffect((()=>{const e=document.getElementById(M),t=i(D)?document.getElementById(D):null;if(t&&e){const{scrollTop:o,clientHeight:n}=e,{offsetHeight:l,offsetTop:s}=t,{top:i,bottom:a}=t.getBoundingClientRect();o>s&&(e.scrollTop=s),o+n<s+l&&(e.scrollTop=s+l-n),(i<0||a>document.documentElement.clientHeight)&&t.scrollIntoView({behavior:\"smooth\",block:\"nearest\"})}}),[D,M]),{activeOptionId:D,autocompleteId:L,composedValue:O,filteredOptions:H,handleOnBlur:F,handleOnClear:$,handleOnClick:A,handleOnChange:R,handleOnKeyDown:e=>{const{key:i}=e;if(u.has(i))switch(e.preventDefault(),i){case s:B?(E(!1),S(null)):$();break;case l:if(y){const{label:e}=y;I||w(e),t(b)&&b(y)}else t(v)&&v(O);E(!1),S(null);break;case n:{if(H.length<=0)return;E(!0);const e=x>=H.length-1?0:x+1;S(H[e]);break}case o:{if(H.length<=0)return;E(!0);const e=x<=0?H.length-1:x-1;S(H[e])}}},isControlled:I,isCustomFiltering:T,isMenuOpen:B,listboxId:M,menuId:V,optionBaseId:j,setActiveOption:S,setIsMenuOpen:E,setInternalValue:w}};export{c as useAutocomplete};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}