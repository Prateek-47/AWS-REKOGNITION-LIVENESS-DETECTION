{"ast":null,"code":"import * as e from \"react\";\nimport { Flex as t, Loader as r, View as o } from \"@aws-amplify/ui-react\";\nimport \"../service/machine/index.mjs\";\nimport { FaceMatchState as n, IlluminationState as i } from \"../service/types/liveness.mjs\";\nimport \"../service/types/error.mjs\";\nimport \"tslib\";\nimport \"@tensorflow/tfjs-core\";\nimport \"@tensorflow-models/blazeface\";\nimport \"@tensorflow/tfjs-backend-wasm\";\nimport \"@tensorflow/tfjs-backend-cpu\";\nimport \"@aws-amplify/core\";\nimport \"../service/utils/liveness.mjs\";\nimport \"../service/utils/streamProvider.mjs\";\nimport \"../service/utils/freshnessColorDisplay.mjs\";\nimport { useLivenessActor as a } from \"../hooks/useLivenessActor.mjs\";\nimport { createLivenessSelector as s, useLivenessSelector as c } from \"../hooks/useLivenessSelector.mjs\";\nimport \"@aws-amplify/ui\";\nimport { Toast as l } from \"./Toast.mjs\";\nimport { Overlay as m } from \"./Overlay.mjs\";\n\nconst h = s(e => e.context.errorState),\n      f = s(e => e.context.faceMatchAssociatedParams.faceMatchState),\n      u = s(e => e.context.faceMatchAssociatedParams.illuminationState),\n      T = s(e => e.context.isFaceFarEnoughBeforeRecording),\n      p = s(e => e.context.faceMatchStateBeforeStart),\n      E = ({\n  hintDisplayText: s\n}) => {\n  const [E] = a(),\n        x = c(h),\n        O = c(f),\n        d = c(u),\n        F = c(p),\n        g = c(T),\n        v = E.matches(\"checkFaceDetectedBeforeStart\"),\n        C = E.matches(\"checkFaceDistanceBeforeRecording\"),\n        y = E.matches(\"recording\"),\n        j = E.matches(\"notRecording\"),\n        A = E.matches(\"waitForSessionInfo\"),\n        I = E.matches(\"uploading\"),\n        S = E.matches(\"checkSucceeded\"),\n        M = E.matches(\"checkFailed\"),\n        k = E.matches({\n    recording: \"flashFreshnessColors\"\n  }),\n        w = {\n    [n.CANT_IDENTIFY]: s.hintCanNotIdentifyText,\n    [n.FACE_IDENTIFIED]: s.hintTooFarText,\n    [n.TOO_MANY]: s.hintTooManyFacesText,\n    [n.TOO_CLOSE]: s.hintTooCloseText,\n    [n.TOO_FAR]: s.hintTooFarText,\n    [n.MATCHED]: s.hintHoldFaceForFreshnessText\n  },\n        D = {\n    [i.BRIGHT]: s.hintIlluminationTooBrightText,\n    [i.DARK]: s.hintIlluminationTooDarkText,\n    [i.NORMAL]: s.hintIlluminationNormalText\n  },\n        _ = (() => {\n    if (!(x || M || S)) {\n      if (!y) {\n        if (v) return F === n.TOO_MANY ? e.createElement(l, null, w[F]) : e.createElement(l, null, s.hintMoveFaceFrontOfCameraText);\n        if (C && !1 === g) return e.createElement(l, null, s.hintTooCloseText);\n        if (j) return e.createElement(l, null, s.hintHoldFacePositionCountdownText);\n        if (A) return e.createElement(l, null, e.createElement(t, {\n          alignItems: \"center\",\n          gap: \"xs\"\n        }, e.createElement(r, null), e.createElement(o, null, s.hintConnectingText)));\n        if (I) return e.createElement(m, {\n          backgroundColor: \"overlay.40\",\n          anchorOrigin: {\n            horizontal: \"center\",\n            vertical: \"end\"\n          }\n        }, e.createElement(l, null, e.createElement(t, {\n          alignItems: \"center\",\n          gap: \"xs\"\n        }, e.createElement(r, null), e.createElement(o, null, s.hintVerifyingText))));\n        if (d && d !== i.NORMAL) return e.createElement(l, null, D[d]);\n      }\n\n      return k ? e.createElement(l, {\n        size: \"large\",\n        variation: \"primary\"\n      }, s.hintHoldFaceForFreshnessText) : y && !k ? e.createElement(l, {\n        size: \"large\",\n        variation: O === n.TOO_CLOSE ? \"error\" : \"primary\"\n      }, O === n.TOO_CLOSE ? w[n.TOO_CLOSE] : w[n.TOO_FAR]) : null;\n    }\n  })();\n\n  return _ || null;\n};\n\nexport { E as Hint, h as selectErrorState, f as selectFaceMatchState, p as selectFaceMatchStateBeforeStart, u as selectIlluminationState, T as selectIsFaceFarEnoughBeforeRecording };","map":{"version":3,"names":["e","Flex","t","Loader","r","View","o","FaceMatchState","n","IlluminationState","i","useLivenessActor","a","createLivenessSelector","s","useLivenessSelector","c","Toast","l","Overlay","m","h","context","errorState","f","faceMatchAssociatedParams","faceMatchState","u","illuminationState","T","isFaceFarEnoughBeforeRecording","p","faceMatchStateBeforeStart","E","hintDisplayText","x","O","d","F","g","v","matches","C","y","j","A","I","S","M","k","recording","w","CANT_IDENTIFY","hintCanNotIdentifyText","FACE_IDENTIFIED","hintTooFarText","TOO_MANY","hintTooManyFacesText","TOO_CLOSE","hintTooCloseText","TOO_FAR","MATCHED","hintHoldFaceForFreshnessText","D","BRIGHT","hintIlluminationTooBrightText","DARK","hintIlluminationTooDarkText","NORMAL","hintIlluminationNormalText","_","createElement","hintMoveFaceFrontOfCameraText","hintHoldFacePositionCountdownText","alignItems","gap","hintConnectingText","backgroundColor","anchorOrigin","horizontal","vertical","hintVerifyingText","size","variation","Hint","selectErrorState","selectFaceMatchState","selectFaceMatchStateBeforeStart","selectIlluminationState","selectIsFaceFarEnoughBeforeRecording"],"sources":["D:/aws-rekognition-liveness-detection-main/node_modules/@aws-amplify/ui-react-liveness/dist/esm/components/FaceLivenessDetector/shared/Hint.mjs"],"sourcesContent":["import*as e from\"react\";import{Flex as t,Loader as r,View as o}from\"@aws-amplify/ui-react\";import\"../service/machine/index.mjs\";import{FaceMatchState as n,IlluminationState as i}from\"../service/types/liveness.mjs\";import\"../service/types/error.mjs\";import\"tslib\";import\"@tensorflow/tfjs-core\";import\"@tensorflow-models/blazeface\";import\"@tensorflow/tfjs-backend-wasm\";import\"@tensorflow/tfjs-backend-cpu\";import\"@aws-amplify/core\";import\"../service/utils/liveness.mjs\";import\"../service/utils/streamProvider.mjs\";import\"../service/utils/freshnessColorDisplay.mjs\";import{useLivenessActor as a}from\"../hooks/useLivenessActor.mjs\";import{createLivenessSelector as s,useLivenessSelector as c}from\"../hooks/useLivenessSelector.mjs\";import\"@aws-amplify/ui\";import{Toast as l}from\"./Toast.mjs\";import{Overlay as m}from\"./Overlay.mjs\";const h=s((e=>e.context.errorState)),f=s((e=>e.context.faceMatchAssociatedParams.faceMatchState)),u=s((e=>e.context.faceMatchAssociatedParams.illuminationState)),T=s((e=>e.context.isFaceFarEnoughBeforeRecording)),p=s((e=>e.context.faceMatchStateBeforeStart)),E=({hintDisplayText:s})=>{const[E]=a(),x=c(h),O=c(f),d=c(u),F=c(p),g=c(T),v=E.matches(\"checkFaceDetectedBeforeStart\"),C=E.matches(\"checkFaceDistanceBeforeRecording\"),y=E.matches(\"recording\"),j=E.matches(\"notRecording\"),A=E.matches(\"waitForSessionInfo\"),I=E.matches(\"uploading\"),S=E.matches(\"checkSucceeded\"),M=E.matches(\"checkFailed\"),k=E.matches({recording:\"flashFreshnessColors\"}),w={[n.CANT_IDENTIFY]:s.hintCanNotIdentifyText,[n.FACE_IDENTIFIED]:s.hintTooFarText,[n.TOO_MANY]:s.hintTooManyFacesText,[n.TOO_CLOSE]:s.hintTooCloseText,[n.TOO_FAR]:s.hintTooFarText,[n.MATCHED]:s.hintHoldFaceForFreshnessText},D={[i.BRIGHT]:s.hintIlluminationTooBrightText,[i.DARK]:s.hintIlluminationTooDarkText,[i.NORMAL]:s.hintIlluminationNormalText},_=(()=>{if(!(x||M||S)){if(!y){if(v)return F===n.TOO_MANY?e.createElement(l,null,w[F]):e.createElement(l,null,s.hintMoveFaceFrontOfCameraText);if(C&&!1===g)return e.createElement(l,null,s.hintTooCloseText);if(j)return e.createElement(l,null,s.hintHoldFacePositionCountdownText);if(A)return e.createElement(l,null,e.createElement(t,{alignItems:\"center\",gap:\"xs\"},e.createElement(r,null),e.createElement(o,null,s.hintConnectingText)));if(I)return e.createElement(m,{backgroundColor:\"overlay.40\",anchorOrigin:{horizontal:\"center\",vertical:\"end\"}},e.createElement(l,null,e.createElement(t,{alignItems:\"center\",gap:\"xs\"},e.createElement(r,null),e.createElement(o,null,s.hintVerifyingText))));if(d&&d!==i.NORMAL)return e.createElement(l,null,D[d])}return k?e.createElement(l,{size:\"large\",variation:\"primary\"},s.hintHoldFaceForFreshnessText):y&&!k?e.createElement(l,{size:\"large\",variation:O===n.TOO_CLOSE?\"error\":\"primary\"},O===n.TOO_CLOSE?w[n.TOO_CLOSE]:w[n.TOO_FAR]):null}})();return _||null};export{E as Hint,h as selectErrorState,f as selectFaceMatchState,p as selectFaceMatchStateBeforeStart,u as selectIlluminationState,T as selectIsFaceFarEnoughBeforeRecording};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}