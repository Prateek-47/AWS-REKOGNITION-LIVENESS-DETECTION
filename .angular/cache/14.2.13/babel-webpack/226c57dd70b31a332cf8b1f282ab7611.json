{"ast":null,"code":"import * as e from \"react\";\nimport { useInterpret as t, useActor as s } from \"@xstate/react\";\nimport { livenessMachine as r } from \"./service/machine/index.mjs\";\nimport \"./service/types/liveness.mjs\";\nimport \"./service/types/error.mjs\";\nimport \"tslib\";\nimport \"@tensorflow/tfjs-core\";\nimport \"@tensorflow-models/blazeface\";\nimport \"@tensorflow/tfjs-backend-wasm\";\nimport \"@tensorflow/tfjs-backend-cpu\";\nimport \"@aws-amplify/core\";\nimport \"./service/utils/liveness.mjs\";\nimport \"./service/utils/streamProvider.mjs\";\nimport \"./service/utils/freshnessColorDisplay.mjs\";\nimport { View as o, Flex as i } from \"@aws-amplify/ui-react\";\nimport { FaceLivenessDetectorProvider as m } from \"./providers/FaceLivenessDetectorProvider.mjs\";\nimport { StartLiveness as n } from \"./StartLiveness/StartLiveness.mjs\";\nimport { LivenessCheck as a } from \"./LivenessCheck/LivenessCheck.mjs\";\nimport { getVideoConstraints as c } from \"./StartLiveness/helpers.mjs\";\nimport { getDisplayText as p } from \"./utils/getDisplayText.mjs\";\nconst l = \"liveness-detector\";\n\nfunction f(f) {\n  const {\n    disableInstructionScreen: v = !1,\n    components: u,\n    config: y,\n    displayText: d\n  } = f,\n        j = e.useRef(null),\n        {\n    hintDisplayText: x,\n    cameraDisplayText: D,\n    instructionDisplayText: T,\n    streamDisplayText: h,\n    errorDisplayText: b\n  } = p(d),\n        E = t(r, {\n    devTools: \"development\" === process.env.NODE_ENV,\n    context: {\n      componentProps: Object.assign(Object.assign({}, f), {\n        config: null != y ? y : {}\n      })\n    }\n  }),\n        [L, w] = s(E),\n        C = L.matches(\"start\") || L.matches(\"userCancel\"),\n        g = e.useCallback(() => {\n    const e = c();\n    w({\n      type: \"BEGIN\",\n      data: {\n        videoConstraints: e\n      }\n    });\n  }, [w]);\n  return e.useLayoutEffect(() => {\n    v && C && g();\n  }, [g, v, C]), e.createElement(o, {\n    className: l,\n    testId: l\n  }, e.createElement(m, {\n    componentProps: f,\n    service: E\n  }, e.createElement(i, {\n    direction: \"column\",\n    ref: j\n  }, C ? e.createElement(n, {\n    beginLivenessCheck: g,\n    components: u,\n    instructionDisplayText: T\n  }) : e.createElement(a, {\n    hintDisplayText: x,\n    cameraDisplayText: D,\n    streamDisplayText: h,\n    errorDisplayText: b,\n    components: u\n  }))));\n}\n\nexport { f as default };","map":{"version":3,"names":["e","useInterpret","t","useActor","s","livenessMachine","r","View","o","Flex","i","FaceLivenessDetectorProvider","m","StartLiveness","n","LivenessCheck","a","getVideoConstraints","c","getDisplayText","p","l","f","disableInstructionScreen","v","components","u","config","y","displayText","d","j","useRef","hintDisplayText","x","cameraDisplayText","D","instructionDisplayText","T","streamDisplayText","h","errorDisplayText","b","E","devTools","process","env","NODE_ENV","context","componentProps","Object","assign","L","w","C","matches","g","useCallback","type","data","videoConstraints","useLayoutEffect","createElement","className","testId","service","direction","ref","beginLivenessCheck","default"],"sources":["D:/aws-rekognition-liveness-detection-main/node_modules/@aws-amplify/ui-react-liveness/dist/esm/components/FaceLivenessDetector/FaceLivenessDetector.mjs"],"sourcesContent":["import*as e from\"react\";import{useInterpret as t,useActor as s}from\"@xstate/react\";import{livenessMachine as r}from\"./service/machine/index.mjs\";import\"./service/types/liveness.mjs\";import\"./service/types/error.mjs\";import\"tslib\";import\"@tensorflow/tfjs-core\";import\"@tensorflow-models/blazeface\";import\"@tensorflow/tfjs-backend-wasm\";import\"@tensorflow/tfjs-backend-cpu\";import\"@aws-amplify/core\";import\"./service/utils/liveness.mjs\";import\"./service/utils/streamProvider.mjs\";import\"./service/utils/freshnessColorDisplay.mjs\";import{View as o,Flex as i}from\"@aws-amplify/ui-react\";import{FaceLivenessDetectorProvider as m}from\"./providers/FaceLivenessDetectorProvider.mjs\";import{StartLiveness as n}from\"./StartLiveness/StartLiveness.mjs\";import{LivenessCheck as a}from\"./LivenessCheck/LivenessCheck.mjs\";import{getVideoConstraints as c}from\"./StartLiveness/helpers.mjs\";import{getDisplayText as p}from\"./utils/getDisplayText.mjs\";const l=\"liveness-detector\";function f(f){const{disableInstructionScreen:v=!1,components:u,config:y,displayText:d}=f,j=e.useRef(null),{hintDisplayText:x,cameraDisplayText:D,instructionDisplayText:T,streamDisplayText:h,errorDisplayText:b}=p(d),E=t(r,{devTools:\"development\"===process.env.NODE_ENV,context:{componentProps:Object.assign(Object.assign({},f),{config:null!=y?y:{}})}}),[L,w]=s(E),C=L.matches(\"start\")||L.matches(\"userCancel\"),g=e.useCallback((()=>{const e=c();w({type:\"BEGIN\",data:{videoConstraints:e}})}),[w]);return e.useLayoutEffect((()=>{v&&C&&g()}),[g,v,C]),e.createElement(o,{className:l,testId:l},e.createElement(m,{componentProps:f,service:E},e.createElement(i,{direction:\"column\",ref:j},C?e.createElement(n,{beginLivenessCheck:g,components:u,instructionDisplayText:T}):e.createElement(a,{hintDisplayText:x,cameraDisplayText:D,streamDisplayText:h,errorDisplayText:b,components:u}))))}export{f as default};\n"],"mappings":"AAAA,OAAM,KAAIA,CAAV,MAAgB,OAAhB;AAAwB,SAAOC,YAAY,IAAIC,CAAvB,EAAyBC,QAAQ,IAAIC,CAArC,QAA2C,eAA3C;AAA2D,SAAOC,eAAe,IAAIC,CAA1B,QAAgC,6BAAhC;AAA8D,OAAM,8BAAN;AAAqC,OAAM,2BAAN;AAAkC,OAAM,OAAN;AAAc,OAAM,uBAAN;AAA8B,OAAM,8BAAN;AAAqC,OAAM,+BAAN;AAAsC,OAAM,8BAAN;AAAqC,OAAM,mBAAN;AAA0B,OAAM,8BAAN;AAAqC,OAAM,oCAAN;AAA2C,OAAM,2CAAN;AAAkD,SAAOC,IAAI,IAAIC,CAAf,EAAiBC,IAAI,IAAIC,CAAzB,QAA+B,uBAA/B;AAAuD,SAAOC,4BAA4B,IAAIC,CAAvC,QAA6C,8CAA7C;AAA4F,SAAOC,aAAa,IAAIC,CAAxB,QAA8B,mCAA9B;AAAkE,SAAOC,aAAa,IAAIC,CAAxB,QAA8B,mCAA9B;AAAkE,SAAOC,mBAAmB,IAAIC,CAA9B,QAAoC,6BAApC;AAAkE,SAAOC,cAAc,IAAIC,CAAzB,QAA+B,4BAA/B;AAA4D,MAAMC,CAAC,GAAC,mBAAR;;AAA4B,SAASC,CAAT,CAAWA,CAAX,EAAa;EAAC,MAAK;IAACC,wBAAwB,EAACC,CAAC,GAAC,CAAC,CAA7B;IAA+BC,UAAU,EAACC,CAA1C;IAA4CC,MAAM,EAACC,CAAnD;IAAqDC,WAAW,EAACC;EAAjE,IAAoER,CAAzE;EAAA,MAA2ES,CAAC,GAAC/B,CAAC,CAACgC,MAAF,CAAS,IAAT,CAA7E;EAAA,MAA4F;IAACC,eAAe,EAACC,CAAjB;IAAmBC,iBAAiB,EAACC,CAArC;IAAuCC,sBAAsB,EAACC,CAA9D;IAAgEC,iBAAiB,EAACC,CAAlF;IAAoFC,gBAAgB,EAACC;EAArG,IAAwGtB,CAAC,CAACU,CAAD,CAArM;EAAA,MAAyMa,CAAC,GAACzC,CAAC,CAACI,CAAD,EAAG;IAACsC,QAAQ,EAAC,kBAAgBC,OAAO,CAACC,GAAR,CAAYC,QAAtC;IAA+CC,OAAO,EAAC;MAACC,cAAc,EAACC,MAAM,CAACC,MAAP,CAAcD,MAAM,CAACC,MAAP,CAAc,EAAd,EAAiB7B,CAAjB,CAAd,EAAkC;QAACK,MAAM,EAAC,QAAMC,CAAN,GAAQA,CAAR,GAAU;MAAlB,CAAlC;IAAhB;EAAvD,CAAH,CAA5M;EAAA,MAAkV,CAACwB,CAAD,EAAGC,CAAH,IAAMjD,CAAC,CAACuC,CAAD,CAAzV;EAAA,MAA6VW,CAAC,GAACF,CAAC,CAACG,OAAF,CAAU,OAAV,KAAoBH,CAAC,CAACG,OAAF,CAAU,YAAV,CAAnX;EAAA,MAA2YC,CAAC,GAACxD,CAAC,CAACyD,WAAF,CAAe,MAAI;IAAC,MAAMzD,CAAC,GAACkB,CAAC,EAAT;IAAYmC,CAAC,CAAC;MAACK,IAAI,EAAC,OAAN;MAAcC,IAAI,EAAC;QAACC,gBAAgB,EAAC5D;MAAlB;IAAnB,CAAD,CAAD;EAA4C,CAA5E,EAA8E,CAACqD,CAAD,CAA9E,CAA7Y;EAAge,OAAOrD,CAAC,CAAC6D,eAAF,CAAmB,MAAI;IAACrC,CAAC,IAAE8B,CAAH,IAAME,CAAC,EAAP;EAAU,CAAlC,EAAoC,CAACA,CAAD,EAAGhC,CAAH,EAAK8B,CAAL,CAApC,GAA6CtD,CAAC,CAAC8D,aAAF,CAAgBtD,CAAhB,EAAkB;IAACuD,SAAS,EAAC1C,CAAX;IAAa2C,MAAM,EAAC3C;EAApB,CAAlB,EAAyCrB,CAAC,CAAC8D,aAAF,CAAgBlD,CAAhB,EAAkB;IAACqC,cAAc,EAAC3B,CAAhB;IAAkB2C,OAAO,EAACtB;EAA1B,CAAlB,EAA+C3C,CAAC,CAAC8D,aAAF,CAAgBpD,CAAhB,EAAkB;IAACwD,SAAS,EAAC,QAAX;IAAoBC,GAAG,EAACpC;EAAxB,CAAlB,EAA6CuB,CAAC,GAACtD,CAAC,CAAC8D,aAAF,CAAgBhD,CAAhB,EAAkB;IAACsD,kBAAkB,EAACZ,CAApB;IAAsB/B,UAAU,EAACC,CAAjC;IAAmCW,sBAAsB,EAACC;EAA1D,CAAlB,CAAD,GAAiFtC,CAAC,CAAC8D,aAAF,CAAgB9C,CAAhB,EAAkB;IAACiB,eAAe,EAACC,CAAjB;IAAmBC,iBAAiB,EAACC,CAArC;IAAuCG,iBAAiB,EAACC,CAAzD;IAA2DC,gBAAgB,EAACC,CAA5E;IAA8EjB,UAAU,EAACC;EAAzF,CAAlB,CAA/H,CAA/C,CAAzC,CAApD;AAA6X;;AAAA,SAAOJ,CAAC,IAAI+C,OAAZ"},"metadata":{},"sourceType":"module"}