{"ast":null,"code":"import _asyncToGenerator from \"D:/aws-rekognition-liveness-detection-main/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nexport const memoize = (provider, isExpired, requiresRefresh) => {\n  let resolved;\n  let pending;\n  let hasResult;\n  let isConstant = false;\n\n  const coalesceProvider = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator(function* () {\n      if (!pending) {\n        pending = provider();\n      }\n\n      try {\n        resolved = yield pending;\n        hasResult = true;\n        isConstant = false;\n      } finally {\n        pending = undefined;\n      }\n\n      return resolved;\n    });\n\n    return function coalesceProvider() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  if (isExpired === undefined) {\n    return /*#__PURE__*/function () {\n      var _ref2 = _asyncToGenerator(function* (options) {\n        if (!hasResult || options?.forceRefresh) {\n          resolved = yield coalesceProvider();\n        }\n\n        return resolved;\n      });\n\n      return function (_x) {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n  }\n\n  return /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator(function* (options) {\n      if (!hasResult || options?.forceRefresh) {\n        resolved = yield coalesceProvider();\n      }\n\n      if (isConstant) {\n        return resolved;\n      }\n\n      if (requiresRefresh && !requiresRefresh(resolved)) {\n        isConstant = true;\n        return resolved;\n      }\n\n      if (isExpired(resolved)) {\n        yield coalesceProvider();\n        return resolved;\n      }\n\n      return resolved;\n    });\n\n    return function (_x2) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n};","map":{"version":3,"names":["memoize","provider","isExpired","requiresRefresh","resolved","pending","hasResult","isConstant","coalesceProvider","undefined","options","forceRefresh"],"sources":["D:/aws-rekognition-liveness-detection-main/node_modules/@aws-sdk/property-provider/dist-es/memoize.js"],"sourcesContent":["export const memoize = (provider, isExpired, requiresRefresh) => {\n    let resolved;\n    let pending;\n    let hasResult;\n    let isConstant = false;\n    const coalesceProvider = async () => {\n        if (!pending) {\n            pending = provider();\n        }\n        try {\n            resolved = await pending;\n            hasResult = true;\n            isConstant = false;\n        }\n        finally {\n            pending = undefined;\n        }\n        return resolved;\n    };\n    if (isExpired === undefined) {\n        return async (options) => {\n            if (!hasResult || options?.forceRefresh) {\n                resolved = await coalesceProvider();\n            }\n            return resolved;\n        };\n    }\n    return async (options) => {\n        if (!hasResult || options?.forceRefresh) {\n            resolved = await coalesceProvider();\n        }\n        if (isConstant) {\n            return resolved;\n        }\n        if (requiresRefresh && !requiresRefresh(resolved)) {\n            isConstant = true;\n            return resolved;\n        }\n        if (isExpired(resolved)) {\n            await coalesceProvider();\n            return resolved;\n        }\n        return resolved;\n    };\n};\n"],"mappings":";AAAA,OAAO,MAAMA,OAAO,GAAG,CAACC,QAAD,EAAWC,SAAX,EAAsBC,eAAtB,KAA0C;EAC7D,IAAIC,QAAJ;EACA,IAAIC,OAAJ;EACA,IAAIC,SAAJ;EACA,IAAIC,UAAU,GAAG,KAAjB;;EACA,MAAMC,gBAAgB;IAAA,6BAAG,aAAY;MACjC,IAAI,CAACH,OAAL,EAAc;QACVA,OAAO,GAAGJ,QAAQ,EAAlB;MACH;;MACD,IAAI;QACAG,QAAQ,SAASC,OAAjB;QACAC,SAAS,GAAG,IAAZ;QACAC,UAAU,GAAG,KAAb;MACH,CAJD,SAKQ;QACJF,OAAO,GAAGI,SAAV;MACH;;MACD,OAAOL,QAAP;IACH,CAbqB;;IAAA,gBAAhBI,gBAAgB;MAAA;IAAA;EAAA,GAAtB;;EAcA,IAAIN,SAAS,KAAKO,SAAlB,EAA6B;IACzB;MAAA,8BAAO,WAAOC,OAAP,EAAmB;QACtB,IAAI,CAACJ,SAAD,IAAcI,OAAO,EAAEC,YAA3B,EAAyC;UACrCP,QAAQ,SAASI,gBAAgB,EAAjC;QACH;;QACD,OAAOJ,QAAP;MACH,CALD;;MAAA;QAAA;MAAA;IAAA;EAMH;;EACD;IAAA,8BAAO,WAAOM,OAAP,EAAmB;MACtB,IAAI,CAACJ,SAAD,IAAcI,OAAO,EAAEC,YAA3B,EAAyC;QACrCP,QAAQ,SAASI,gBAAgB,EAAjC;MACH;;MACD,IAAID,UAAJ,EAAgB;QACZ,OAAOH,QAAP;MACH;;MACD,IAAID,eAAe,IAAI,CAACA,eAAe,CAACC,QAAD,CAAvC,EAAmD;QAC/CG,UAAU,GAAG,IAAb;QACA,OAAOH,QAAP;MACH;;MACD,IAAIF,SAAS,CAACE,QAAD,CAAb,EAAyB;QACrB,MAAMI,gBAAgB,EAAtB;QACA,OAAOJ,QAAP;MACH;;MACD,OAAOA,QAAP;IACH,CAhBD;;IAAA;MAAA;IAAA;EAAA;AAiBH,CA5CM"},"metadata":{},"sourceType":"module"}